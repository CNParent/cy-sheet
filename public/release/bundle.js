var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e,n,o){if(t){const l=s(t,e,n,o);return t[0](l)}}function s(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function i(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}function a(t,e,n,o,l,c){if(l){const r=s(e,n,o,c);t.p(r,l)}}function u(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function f(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function C(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function _(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function N(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function S(t,e,n){t.classList[n?"add":"remove"](e)}let q;function A(t){q=t}function E(){if(!q)throw new Error("Function called outside component initialization");return q}function O(t){E().$$.after_update.push(t)}const D=[],I=[],K=[],L=[],M=Promise.resolve();let P=!1;function j(t){K.push(t)}function B(t){L.push(t)}const T=new Set;let U=0;function J(){if(0!==U)return;const t=q;do{try{for(;U<D.length;){const t=D[U];U++,A(t),R(t.$$)}}catch(t){throw D.length=0,U=0,t}for(A(null),D.length=0,U=0;I.length;)I.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];T.has(e)||(T.add(e),e())}K.length=0}while(D.length);for(;L.length;)L.pop()();P=!1,T.clear(),A(t)}function R(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const V=new Set;let z;function F(){z={r:0,c:[],p:z}}function G(){z.r||o(z.c),z=z.p}function H(t,e){t&&t.i&&(V.delete(t),t.i(e))}function W(t,e,n,o){if(t&&t.o){if(V.has(t))return;V.add(t),z.c.push((()=>{V.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function Z(t,e){W(t,1,1,(()=>{e.delete(t.key)}))}function Q(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Y(t){t&&t.c()}function X(t,n,c,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(n,c),r||j((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(j)}function tt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(D.push(t),P||(P=!0,M.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,l,c,r,s,i,a,u=[-1]){const f=q;A(e);const d=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||f.$$.root};a&&a(d.root);let $=!1;if(d.ctx=c?c(e,l.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),$&&et(e,t)),n})):[],d.update(),$=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();l.intro&&H(e.$$.fragment),X(e,l.target,l.anchor,l.customElement),J()}A(f)}class ot{$destroy(){tt(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const lt=()=>({name:"",glitches:{die:"d2",current:0},hp:{current:0,max:0},abilities:{strength:0,agility:0,presence:0,toughness:0,knowledge:0},creds:0,debt:0,className:"",apps:[],nano:[],infestations:[],armor:"None",armorValue:"-",weapons:[],equipment:[],cybertech:[],info:"",notes:[]}),ct=new URLSearchParams(window.location.search).get("theme")??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");function rt(t,e,n){const o=t.slice();return o[15]=e[n],o[17]=n,o}function st(t){let e,n,o,l,c,s;const f=t[10].default,$=r(f,t,t[9],null);function g(t,e){return 0==t[1].length?ut:at}let b=g(t),v=b(t);return{c(){e=p("span"),$&&$.c(),n=h(),o=p("button"),v.c(),w(e,"class","py-2 font-weight-bold"),w(o,"class","btn btn-light border text-left align-top wrap w-100"),C(o,"min-height","2.5em")},m(r,i){d(r,e,i),$&&$.m(e,null),d(r,n,i),d(r,o,i),v.m(o,null),l=!0,c||(s=x(o,"click",t[14]),c=!0)},p(t,e){$&&$.p&&(!l||512&e)&&a($,f,t,t[9],l?i(f,t[9],e,null):u(t[9]),null),b===(b=g(t))&&v?v.p(t,e):(v.d(1),v=b(t),v&&(v.c(),v.m(o,null)))},i(t){l||(H($,t),l=!0)},o(t){W($,t),l=!1},d(t){t&&m(e),$&&$.d(t),t&&m(n),t&&m(o),v.d(),c=!1,s()}}}function it(t){let e,n,l,c,s,f;const $=t[10].default,g=r($,t,t[9],null);return{c(){e=p("span"),g&&g.c(),n=h(),l=p("textarea"),w(e,"class","py-2 font-weight-bold"),w(l,"class","flex-grow-1 form-control")},m(o,r){d(o,e,r),g&&g.m(e,null),d(o,n,r),d(o,l,r),t[11](l),k(l,t[0]),c=!0,s||(f=[x(l,"input",t[12]),x(l,"blur",t[13]),x(l,"focus",t[6]),x(l,"keyup",t[6])],s=!0)},p(t,e){g&&g.p&&(!c||512&e)&&a(g,$,t,t[9],c?i($,t[9],e,null):u(t[9]),null),1&e&&k(l,t[0])},i(t){c||(H(g,t),c=!0)},o(t){W(g,t),c=!1},d(c){c&&m(e),g&&g.d(c),c&&m(n),c&&m(l),t[11](null),s=!1,o(f)}}}function at(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=mt(rt(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);d(t,e,n)},p(t,l){if(51&l){let c;for(n=t[1],c=0;c<n.length;c+=1){const r=rt(t,n,c);o[c]?o[c].p(r,l):(o[c]=mt(r),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){$(o,t),t&&m(e)}}}function ut(t){let e;return{c(){e=g(t[0])},m(t,n){d(t,e,n)},p(t,n){1&n&&y(e,t[0])},d(t){t&&m(e)}}}function ft(t){let e;return{c(){e=g(t[4])},m(t,n){d(t,e,n)},p(t,n){16&n&&y(e,t[4])},d(t){t&&m(e)}}}function dt(t){let e,n=t[0].substring(t[15].index+t[15][0].length,t[1][t[17]+1].index)+"";return{c(){e=g(n)},m(t,n){d(t,e,n)},p(t,o){3&o&&n!==(n=t[0].substring(t[15].index+t[15][0].length,t[1][t[17]+1].index)+"")&&y(e,n)},d(t){t&&m(e)}}}function mt(t){let e,n,o,l=t[15][0]+"",c=0==t[17]&&function(t){let e;return{c(){e=g(t[5])},m(t,n){d(t,e,n)},p(t,n){32&n&&y(e,t[5])},d(t){t&&m(e)}}}(t);function r(t,e){return t[17]<t[1].length-1?dt:ft}let s=r(t),i=s(t);return{c(){c&&c.c(),e=p("span"),n=g(l),i.c(),o=b(),w(e,"class","bg-info")},m(t,l){c&&c.m(t,l),d(t,e,l),f(e,n),i.m(t,l),d(t,o,l)},p(t,e){0==t[17]&&c.p(t,e),2&e&&l!==(l=t[15][0]+"")&&y(n,l),s===(s=r(t))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),i.m(o.parentNode,o)))},d(t){c&&c.d(t),t&&m(e),i.d(t),t&&m(o)}}}function $t(t){let e,n,o,l;const c=[it,st],r=[];function s(t,e){return t[2]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){r[e].m(t,n),d(t,o,n),l=!0},p(t,[l]){let i=e;e=s(t),e===i?r[e].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),n=r[e],n?n.p(t,l):(n=r[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){l||(H(n),l=!0)},o(t){W(n),l=!1},d(t){r[e].d(t),t&&m(o)}}}function pt(t,e,n){let o,l,c,r,s,{$$slots:i={},$$scope:a}=e,{content:u=""}=e,{highlight:f=""}=e,d=!1;O((()=>{d&&s.focus()}));return t.$$set=t=>{"content"in t&&n(0,u=t.content),"highlight"in t&&n(7,f=t.highlight),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&n(8,o=new RegExp(f,"gi")),257&t.$$.dirty&&n(1,l=[...u.matchAll(o)]),3&t.$$.dirty&&n(5,c=0==l.length?"":u.substring(0,l[0].index)),3&t.$$.dirty&&n(4,r=0==l.length?"":u.substring(l[l.length-1].index+l[l.length-1][0].length))},[u,l,d,s,r,c,function(){s&&n(3,s.style.height=`${s.scrollHeight+2}px`,s)},f,o,a,i,function(t){I[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(){u=this.value,n(0,u)},()=>n(2,d=!1),()=>n(2,d=!0)]}class gt extends ot{constructor(t){super(),nt(this,t,pt,$t,c,{content:0,highlight:7})}}function ht(e){let n,o,l,c,r=e[0].name+"";return{c(){n=p("button"),o=g(r),w(n,"class","btn btn-light border text-left flex-grow-1")},m(t,r){d(t,n,r),f(n,o),l||(c=x(n,"click",e[5]),l=!0)},p(t,e){1&e&&r!==(r=t[0].name+"")&&y(o,r)},i:t,o:t,d(t){t&&m(n),l=!1,c()}}}function bt(t){let e,n,l,c,r,s,i,a,u,$,g;function b(e){t[4](e)}let v={};return void 0!==t[0].description&&(v.content=t[0].description),i=new gt({props:v}),I.push((()=>Q(i,"content",b))),{c(){e=p("div"),n=p("input"),l=h(),c=p("button"),c.textContent="Close",r=h(),s=p("div"),Y(i.$$.fragment),w(n,"class","flex-grow-1 form-control"),w(c,"class","btn btn-light border"),w(e,"class","d-flex flex-grow-1"),w(s,"class","d-flex")},m(o,a){d(o,e,a),f(e,n),k(n,t[0].name),f(e,l),f(e,c),d(o,r,a),d(o,s,a),X(i,s,null),u=!0,$||(g=[x(n,"input",t[2]),x(c,"click",t[3])],$=!0)},p(t,e){1&e&&n.value!==t[0].name&&k(n,t[0].name);const o={};!a&&1&e&&(a=!0,o.content=t[0].description,B((()=>a=!1))),i.$set(o)},i(t){u||(H(i.$$.fragment,t),u=!0)},o(t){W(i.$$.fragment,t),u=!1},d(t){t&&m(e),t&&m(r),t&&m(s),tt(i),$=!1,o(g)}}}function xt(t){let e,n,o,l;const c=[bt,ht],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),w(e,"class","d-flex flex-column flex-grow-1")},m(t,o){d(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function wt(t,e,n){let o,{app:l}=e;return t.$$set=t=>{"app"in t&&n(0,l=t.app)},[l,o,function(){l.name=this.value,n(0,l)},()=>n(1,o=!1),function(e){t.$$.not_equal(l.description,e)&&(l.description=e,n(0,l))},()=>n(1,o=!0)]}class vt extends ot{constructor(t){super(),nt(this,t,wt,xt,c,{app:0})}}function yt(t){let e,n,l,c,s,$,g,b,v,y,k,C,_;const N=t[4].default,S=r(N,t,t[3],null);return{c(){e=p("div"),n=p("div"),S&&S.c(),l=h(),c=p("div"),s=p("div"),$=p("button"),$.textContent="↑",g=h(),b=p("button"),b.textContent="↓",v=h(),y=p("button"),y.textContent="Delete",w(n,"class","flex-grow-1 d-flex mr-1"),w($,"class","btn btn-light border-dark"),w(b,"class","btn btn-light border-dark"),w(s,"class","btn-group"),w(y,"class","btn btn-danger"),w(c,"class","align-self-start ml-auto"),w(e,"class","d-flex m-1 align-self-start")},m(o,r){d(o,e,r),f(e,n),S&&S.m(n,null),f(e,l),f(e,c),f(c,s),f(s,$),f(s,g),f(s,b),f(c,v),f(c,y),k=!0,C||(_=[x($,"click",t[5]),x(b,"click",t[6]),x(y,"click",t[7])],C=!0)},p(t,[e]){S&&S.p&&(!k||8&e)&&a(S,N,t,t[3],k?i(N,t[3],e,null):u(t[3]),null)},i(t){k||(H(S,t),k=!0)},o(t){W(S,t),k=!1},d(t){t&&m(e),S&&S.d(t),C=!1,o(_)}}}function kt(t,e,n){let{$$slots:o={},$$scope:l}=e,{move:c}=e,{remove:r}=e,{item:s}=e;return t.$$set=t=>{"move"in t&&n(0,c=t.move),"remove"in t&&n(1,r=t.remove),"item"in t&&n(2,s=t.item),"$$scope"in t&&n(3,l=t.$$scope)},[c,r,s,l,o,()=>c(-1,s),()=>c(1,s),()=>r(s)]}class Ct extends ot{constructor(t){super(),nt(this,t,kt,yt,c,{move:0,remove:1,item:2})}}function _t(t,e,n){const o=t.slice();return o[4]=e[n],o}function Nt(t){let e,n,o;return e=new vt({props:{app:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),d(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.app=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function St(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function qt(t){let e,n,o,l,c,r,s=t[0].apps,i=[];for(let e=0;e<s.length;e+=1)i[e]=St(_t(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),w(e,"class","btn btn-dark")},m(s,a){d(s,e,a),d(s,n,a);for(let t=0;t<i.length;t+=1)i[t].m(s,a);d(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].apps,n=0;n<s.length;n+=1){const l=_t(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=St(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function At(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.apps.push({name:"App",description:""}),n(0,o)},function(t,e){let l=o.apps.indexOf(e);o.apps.splice(l,1),l+=t,l<0?l=o.apps.length:l>o.apps.length&&(l=0),o.apps.splice(l,0,e),n(0,o)},function(t){let e=o.apps.indexOf(t);o.apps.splice(e,1),n(0,o)}]}class Et extends ot{constructor(t){super(),nt(this,t,At,qt,c,{model:0})}}function Ot(t){let e,n,o,l,c,s,$,b;const v=t[4].default,k=r(v,t,t[3],null);return{c(){e=p("div"),n=p("span"),k&&k.c(),o=h(),l=p("button"),c=g(t[0]),w(n,"class","align-self-center text-right border-right pr-1 py-2 font-weight-bold"),C(n,"width","5.5em"),w(l,"class","flex-grow-1 btn btn-light text-left"),w(e,"class","d-flex mb-1 border-bottom")},m(r,i){d(r,e,i),f(e,n),k&&k.m(n,null),f(e,o),f(e,l),f(l,c),s=!0,$||(b=x(l,"click",t[8]),$=!0)},p(t,e){k&&k.p&&(!s||8&e)&&a(k,v,t,t[3],s?i(v,t[3],e,null):u(t[3]),null),(!s||1&e)&&y(c,t[0])},i(t){s||(H(k,t),s=!0)},o(t){W(k,t),s=!1},d(t){t&&m(e),k&&k.d(t),$=!1,b()}}}function Dt(t){let e,n,l,c,s,$,g;const b=t[4].default,v=r(b,t,t[3],null);return{c(){e=p("div"),n=p("span"),v&&v.c(),l=h(),c=p("input"),w(n,"class","align-self-center text-right mr-1 py-2 font-weight-bold"),C(n,"width","5.5em"),C(n,"height","2.5em"),w(c,"class","flex-grow-1 form-control"),w(e,"class","d-flex mb-1 border-bottom")},m(o,r){d(o,e,r),f(e,n),v&&v.m(n,null),f(e,l),f(e,c),t[5](c),k(c,t[0]),s=!0,$||(g=[x(c,"input",t[6]),x(c,"blur",t[7])],$=!0)},p(t,e){v&&v.p&&(!s||8&e)&&a(v,b,t,t[3],s?i(b,t[3],e,null):u(t[3]),null),1&e&&c.value!==t[0]&&k(c,t[0])},i(t){s||(H(v,t),s=!0)},o(t){W(v,t),s=!1},d(n){n&&m(e),v&&v.d(n),t[5](null),$=!1,o(g)}}}function It(t){let e,n,o,l;const c=[Dt,Ot],r=[];function s(t,e){return t[1]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){r[e].m(t,n),d(t,o,n),l=!0},p(t,[l]){let i=e;e=s(t),e===i?r[e].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),n=r[e],n?n.p(t,l):(n=r[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){l||(H(n),l=!0)},o(t){W(n),l=!1},d(t){r[e].d(t),t&&m(o)}}}function Kt(t,e,n){let o,{$$slots:l={},$$scope:c}=e,{content:r=""}=e,s=!1;O((()=>{s&&o.focus()}));return t.$$set=t=>{"content"in t&&n(0,r=t.content),"$$scope"in t&&n(3,c=t.$$scope)},[r,s,o,c,l,function(t){I[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(){r=this.value,n(0,r)},()=>n(1,s=!1),()=>n(1,s=!0)]}class Lt extends ot{constructor(t){super(),nt(this,t,Kt,It,c,{content:0})}}function Mt(t){let e;return{c(){e=g("Name")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function Pt(t){let e;return{c(){e=g("Class")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function jt(t){let e;return{c(){e=g("Credits")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function Bt(t){let e;return{c(){e=g("Debt")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function Tt(t){let e;return{c(){e=g("Info")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function Ut(t){let e,n,o,l,c,r,s,i,a,u,f,$,g,b,x,w,v;function y(e){t[1](e)}let k={$$slots:{default:[Mt]},$$scope:{ctx:t}};function C(e){t[2](e)}void 0!==t[0].name&&(k.content=t[0].name),e=new Lt({props:k}),I.push((()=>Q(e,"content",y)));let _={$$slots:{default:[Pt]},$$scope:{ctx:t}};function N(e){t[3](e)}void 0!==t[0].className&&(_.content=t[0].className),l=new Lt({props:_}),I.push((()=>Q(l,"content",C)));let S={$$slots:{default:[jt]},$$scope:{ctx:t}};function q(e){t[4](e)}void 0!==t[0].creds&&(S.content=t[0].creds),s=new Lt({props:S}),I.push((()=>Q(s,"content",N)));let A={$$slots:{default:[Bt]},$$scope:{ctx:t}};function E(e){t[5](e)}void 0!==t[0].debt&&(A.content=t[0].debt),u=new Lt({props:A}),I.push((()=>Q(u,"content",q)));let O={$$slots:{default:[Tt]},$$scope:{ctx:t}};return void 0!==t[0].info&&(O.content=t[0].info),x=new gt({props:O}),I.push((()=>Q(x,"content",E))),{c(){Y(e.$$.fragment),o=h(),Y(l.$$.fragment),r=h(),Y(s.$$.fragment),a=h(),Y(u.$$.fragment),$=h(),g=p("hr"),b=h(),Y(x.$$.fragment)},m(t,n){X(e,t,n),d(t,o,n),X(l,t,n),d(t,r,n),X(s,t,n),d(t,a,n),X(u,t,n),d(t,$,n),d(t,g,n),d(t,b,n),X(x,t,n),v=!0},p(t,[o]){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,r.content=t[0].name,B((()=>n=!1))),e.$set(r);const a={};64&o&&(a.$$scope={dirty:o,ctx:t}),!c&&1&o&&(c=!0,a.content=t[0].className,B((()=>c=!1))),l.$set(a);const d={};64&o&&(d.$$scope={dirty:o,ctx:t}),!i&&1&o&&(i=!0,d.content=t[0].creds,B((()=>i=!1))),s.$set(d);const m={};64&o&&(m.$$scope={dirty:o,ctx:t}),!f&&1&o&&(f=!0,m.content=t[0].debt,B((()=>f=!1))),u.$set(m);const $={};64&o&&($.$$scope={dirty:o,ctx:t}),!w&&1&o&&(w=!0,$.content=t[0].info,B((()=>w=!1))),x.$set($)},i(t){v||(H(e.$$.fragment,t),H(l.$$.fragment,t),H(s.$$.fragment,t),H(u.$$.fragment,t),H(x.$$.fragment,t),v=!0)},o(t){W(e.$$.fragment,t),W(l.$$.fragment,t),W(s.$$.fragment,t),W(u.$$.fragment,t),W(x.$$.fragment,t),v=!1},d(t){tt(e,t),t&&m(o),tt(l,t),t&&m(r),tt(s,t),t&&m(a),tt(u,t),t&&m($),t&&m(g),t&&m(b),tt(x,t)}}}function Jt(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(e){t.$$.not_equal(o.name,e)&&(o.name=e,n(0,o))},function(e){t.$$.not_equal(o.className,e)&&(o.className=e,n(0,o))},function(e){t.$$.not_equal(o.creds,e)&&(o.creds=e,n(0,o))},function(e){t.$$.not_equal(o.debt,e)&&(o.debt=e,n(0,o))},function(e){t.$$.not_equal(o.info,e)&&(o.info=e,n(0,o))}]}class Rt extends ot{constructor(t){super(),nt(this,t,Jt,Ut,c,{model:0})}}function Vt(t){let e,n,o,l;const c=t[3].default,s=r(c,t,t[2],null);return{c(){e=p("div"),n=p("div"),o=p("div"),s&&s.c(),w(o,"class","card-body"),w(n,"class","card"),w(e,"class","container-fluid m-0 p-0")},m(t,c){d(t,e,c),f(e,n),f(n,o),s&&s.m(o,null),l=!0},p(t,e){s&&s.p&&(!l||4&e)&&a(s,c,t,t[2],l?i(c,t[2],e,null):u(t[2]),null)},i(t){l||(H(s,t),l=!0)},o(t){W(s,t),l=!1},d(t){t&&m(e),s&&s.d(t)}}}function zt(t){let e,n,o,l,c,r,s,i=t[0]&&Vt(t);return{c(){e=p("div"),n=p("button"),o=g(t[1]),l=h(),i&&i.c(),w(n,"class","btn btn-light border w-100 text-left align-top"),w(e,"class","col-lg-6 col-12 p-1")},m(a,u){d(a,e,u),f(e,n),f(n,o),f(e,l),i&&i.m(e,null),c=!0,r||(s=x(n,"click",t[4]),r=!0)},p(t,[n]){(!c||2&n)&&y(o,t[1]),t[0]?i?(i.p(t,n),1&n&&H(i,1)):(i=Vt(t),i.c(),H(i,1),i.m(e,null)):i&&(F(),W(i,1,1,(()=>{i=null})),G())},i(t){c||(H(i),c=!0)},o(t){W(i),c=!1},d(t){t&&m(e),i&&i.d(),r=!1,s()}}}function Ft(t,e,n){let{$$slots:o={},$$scope:l}=e,{title:c}=e,{open:r=!1}=e;return t.$$set=t=>{"title"in t&&n(1,c=t.title),"open"in t&&n(0,r=t.open),"$$scope"in t&&n(2,l=t.$$scope)},[r,c,l,o,()=>n(0,r=!r)]}class Gt extends ot{constructor(t){super(),nt(this,t,Ft,zt,c,{title:1,open:0})}}function Ht(t){let e,n,o,l;return{c(){e=p("button"),n=g(t[0]),w(e,"class","btn btn-light border text-left flex-grow-1")},m(c,r){d(c,e,r),f(e,n),o||(l=x(e,"click",t[6]),o=!0)},p(t,e){1&e&&y(n,t[0])},d(t){t&&m(e),o=!1,l()}}}function Wt(t){let e,n,l,c,r;return{c(){e=p("input"),n=h(),l=p("button"),l.textContent="Close",w(e,"class","form-control flex-grow-1"),w(l,"class","btn btn-light border-dark")},m(o,s){d(o,e,s),t[3](e),k(e,t[0]),d(o,n,s),d(o,l,s),c||(r=[x(e,"input",t[4]),x(l,"click",t[5])],c=!0)},p(t,n){1&n&&e.value!==t[0]&&k(e,t[0])},d(s){s&&m(e),t[3](null),s&&m(n),s&&m(l),c=!1,o(r)}}}function Zt(e){let n;function o(t,e){return t[1]?Wt:Ht}let l=o(e),c=l(e);return{c(){c.c(),n=b()},m(t,e){c.m(t,e),d(t,n,e)},p(t,[e]){l===(l=o(t))&&c?c.p(t,e):(c.d(1),c=l(t),c&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&m(n)}}}function Qt(t,e,n){let o,{item:l}=e,{isEditing:c}=e;O((()=>{c&&o.focus()}));return t.$$set=t=>{"item"in t&&n(0,l=t.item),"isEditing"in t&&n(1,c=t.isEditing)},[l,c,o,function(t){I[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(){l=this.value,n(0,l)},()=>n(1,c=!1),()=>n(1,c=!0)]}class Yt extends ot{constructor(t){super(),nt(this,t,Qt,Zt,c,{item:0,isEditing:1})}}function Xt(t,e,n){const o=t.slice();return o[13]=e[n],o}function te(t){let e,n,o,l,c=t[0].name+"";return{c(){e=p("button"),n=g(c),w(e,"class","flex-grow-1 btn btn-light text-left border")},m(c,r){d(c,e,r),f(e,n),o||(l=x(e,"click",t[8]),o=!0)},p(t,e){1&e&&c!==(c=t[0].name+"")&&y(n,c)},d(t){t&&m(e),o=!1,l()}}}function ee(t){let e,n,l,c,r;return{c(){e=p("input"),n=h(),l=p("button"),l.textContent="Close",w(e,"class","form-control flex-grow-1"),w(l,"class","btn btn-light border-dark ml-auto")},m(o,s){d(o,e,s),t[5](e),k(e,t[0].name),d(o,n,s),d(o,l,s),c||(r=[x(e,"input",t[6]),x(l,"click",t[7])],c=!0)},p(t,n){9&n&&e.value!==t[0].name&&k(e,t[0].name)},d(s){s&&m(e),t[5](null),s&&m(n),s&&m(l),c=!1,o(r)}}}function ne(t){let e,n,o,l,c,r,s,i,a,u,$,v,k=t[0].mags+"",C=t[0].damage+"",_=t[0].automatic&&le(),N=t[0].melee&&ce();return{c(){e=p("button"),n=g(k),o=g(" mags"),l=h(),c=p("span"),r=g(C),s=g(" damage"),i=h(),_&&_.c(),a=h(),N&&N.c(),u=b(),w(e,"class","btn btn-dark badge"),w(c,"class","btn btn-dark badge ml-1")},m(m,p){d(m,e,p),f(e,n),f(e,o),d(m,l,p),d(m,c,p),f(c,r),f(c,s),d(m,i,p),_&&_.m(m,p),d(m,a,p),N&&N.m(m,p),d(m,u,p),$||(v=x(e,"click",t[4]),$=!0)},p(t,e){1&e&&k!==(k=t[0].mags+"")&&y(n,k),1&e&&C!==(C=t[0].damage+"")&&y(r,C),t[0].automatic?_||(_=le(),_.c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null),t[0].melee?N||(N=ce(),N.c(),N.m(u.parentNode,u)):N&&(N.d(1),N=null)},d(t){t&&m(e),t&&m(l),t&&m(c),t&&m(i),_&&_.d(t),t&&m(a),N&&N.d(t),t&&m(u),$=!1,v()}}}function oe(t){let e,n,l,c,r,s,i,a,u,g,b,y,C,N,S,q,A,E,O,D=t[3],I=[];for(let e=0;e<D.length;e+=1)I[e]=re(Xt(t,D,e));return{c(){e=p("div"),n=p("input"),l=h(),c=p("div"),r=p("select");for(let t=0;t<I.length;t+=1)I[t].c();s=h(),i=p("div"),a=p("label"),u=p("input"),g=h(),b=p("span"),b.textContent="Auto",y=h(),C=p("div"),N=p("label"),S=p("input"),q=h(),A=p("span"),A.textContent="Melee",w(n,"type","number"),w(n,"min",0),w(n,"class","form-control"),w(e,"class","border-right d-flex"),w(r,"class","form-control"),void 0===t[0].damage&&j((()=>t[10].call(r))),w(c,"class","border-right d-flex ml-1"),w(u,"type","checkbox"),w(b,"class","ml-1 mr-1"),w(a,"class","align-self-center d-flex align-items-center m-0"),w(i,"class","border-right d-flex ml-1"),w(S,"type","checkbox"),w(A,"class","ml-1 mr-1"),w(N,"class","align-self-center d-flex align-items-center m-0"),w(C,"class","d-flex ml-1")},m(o,m){d(o,e,m),f(e,n),k(n,t[0].mags),d(o,l,m),d(o,c,m),f(c,r);for(let t=0;t<I.length;t+=1)I[t].m(r,null);_(r,t[0].damage),d(o,s,m),d(o,i,m),f(i,a),f(a,u),u.checked=t[0].automatic,f(a,g),f(a,b),d(o,y,m),d(o,C,m),f(C,N),f(N,S),S.checked=t[0].melee,f(N,q),f(N,A),E||(O=[x(n,"input",t[9]),x(r,"change",t[10]),x(u,"change",t[11]),x(S,"change",t[12])],E=!0)},p(t,e){if(9&e&&v(n.value)!==t[0].mags&&k(n,t[0].mags),8&e){let n;for(D=t[3],n=0;n<D.length;n+=1){const o=Xt(t,D,n);I[n]?I[n].p(o,e):(I[n]=re(o),I[n].c(),I[n].m(r,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=D.length}9&e&&_(r,t[0].damage),9&e&&(u.checked=t[0].automatic),9&e&&(S.checked=t[0].melee)},d(t){t&&m(e),t&&m(l),t&&m(c),$(I,t),t&&m(s),t&&m(i),t&&m(y),t&&m(C),E=!1,o(O)}}}function le(t){let e;return{c(){e=p("span"),e.textContent="auto",w(e,"class","btn btn-dark badge ml-1")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function ce(t){let e;return{c(){e=p("span"),e.textContent="melee",w(e,"class","btn btn-dark badge ml-1")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function re(e){let n,o,l=e[13]+"";return{c(){n=p("option"),o=g(l),n.__value=e[13],n.value=n.__value},m(t,e){d(t,n,e),f(n,o)},p:t,d(t){t&&m(n)}}}function se(e){let n,o,l,c;function r(t,e){return t[1]?ee:te}let s=r(e),i=s(e);function a(t,e){return t[1]?oe:ne}let u=a(e),$=u(e);return{c(){n=p("div"),o=p("div"),i.c(),l=h(),c=p("div"),$.c(),w(o,"class","d-flex"),w(c,"class","d-flex mt-1"),w(n,"class","d-flex flex-column flex-grow-1")},m(t,e){d(t,n,e),f(n,o),i.m(o,null),f(n,l),f(n,c),$.m(c,null)},p(t,[e]){s===(s=r(t))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),i.m(o,null))),u===(u=a(t))&&$?$.p(t,e):($.d(1),$=u(t),$&&($.c(),$.m(c,null)))},i:t,o:t,d(t){t&&m(n),i.d(),$.d()}}}function ie(t,e,n){let{weapon:o}=e;const l=["1","d2","d3","d4","d6","d8","d10","d12"];let c,r=!1;o.name||(o.name="New Weapon"),null==o.mags&&(o.mags=0),O((()=>{r&&c.focus()}));return t.$$set=t=>{"weapon"in t&&n(0,o=t.weapon)},[o,r,c,l,function(t){let e=t.shiftKey?1:-1;n(0,o.mags+=e,o),o.mags<0&&n(0,o.mags=0,o)},function(t){I[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},function(){o.name=this.value,n(0,o),n(3,l)},()=>n(1,r=!1),()=>n(1,r=!0),function(){o.mags=v(this.value),n(0,o),n(3,l)},function(){o.damage=N(this),n(0,o),n(3,l)},function(){o.automatic=this.checked,n(0,o),n(3,l)},function(){o.melee=this.checked,n(0,o),n(3,l)}]}class ae extends ot{constructor(t){super(),nt(this,t,ie,se,c,{weapon:0})}}function ue(t,e,n){const o=t.slice();return o[19]=e[n],o[20]=e,o[21]=n,o}function fe(t,e,n){const o=t.slice();return o[22]=e[n],o}function de(t,e,n){const o=t.slice();return o[25]=e[n],o}function me(t){let e,n,l,c,r,s,i,a=t[0].armor+"",u=t[0].armorValue+"";return{c(){e=p("button"),n=g(a),l=h(),c=p("button"),r=g(u),w(e,"class","btn btn-light border text-left flex-grow-1"),w(c,"class","btn btn-light border text-left ml-1")},m(o,a){d(o,e,a),f(e,n),d(o,l,a),d(o,c,a),f(c,r),s||(i=[x(e,"click",t[16]),x(c,"click",t[17])],s=!0)},p(t,e){1&e&&a!==(a=t[0].armor+"")&&y(n,a),1&e&&u!==(u=t[0].armorValue+"")&&y(r,u)},d(t){t&&m(e),t&&m(l),t&&m(c),s=!1,o(i)}}}function $e(t){let e,n,l,c,r,s,i,a,u=t[5],g=[];for(let e=0;e<u.length;e+=1)g[e]=pe(de(t,u,e));return{c(){e=p("input"),n=h(),l=p("div"),c=p("select");for(let t=0;t<g.length;t+=1)g[t].c();r=h(),s=p("button"),s.textContent="Done",w(e,"class","form-control flex-grow-1"),w(c,"class","form-control"),void 0===t[0].armorValue&&j((()=>t[14].call(c))),w(l,"class","pl-1 pr-1"),w(s,"class","btn btn-light ml-1 border-dark")},m(o,u){d(o,e,u),t[12](e),k(e,t[0].armor),d(o,n,u),d(o,l,u),f(l,c);for(let t=0;t<g.length;t+=1)g[t].m(c,null);_(c,t[0].armorValue),d(o,r,u),d(o,s,u),i||(a=[x(e,"input",t[13]),x(c,"change",t[14]),x(s,"click",t[15])],i=!0)},p(t,n){if(33&n&&e.value!==t[0].armor&&k(e,t[0].armor),32&n){let e;for(u=t[5],e=0;e<u.length;e+=1){const o=de(t,u,e);g[e]?g[e].p(o,n):(g[e]=pe(o),g[e].c(),g[e].m(c,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=u.length}33&n&&_(c,t[0].armorValue)},d(c){c&&m(e),t[12](null),c&&m(n),c&&m(l),$(g,c),c&&m(r),c&&m(s),i=!1,o(a)}}}function pe(e){let n,o,l=e[25]+"";return{c(){n=p("option"),o=g(l),n.__value=e[25],n.value=n.__value},m(t,e){d(t,n,e),f(n,o)},p:t,d(t){t&&m(n)}}}function ge(t){let e,n;return e=new ae({props:{weapon:t[22]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.weapon=t[22]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function he(t){let e,n;return e=new Ct({props:{item:t[22],move:t[9],remove:t[11],$$slots:{default:[ge]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[22]),268435457&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function be(t){let e,n,o,l;function c(e){t[18](e,t[19],t[20],t[21])}let r={};return void 0!==t[19]&&(r.item=t[19]),e=new Yt({props:r}),I.push((()=>Q(e,"item",c))),{c(){Y(e.$$.fragment),o=h()},m(t,n){X(e,t,n),d(t,o,n),l=!0},p(o,l){t=o;const c={};!n&&1&l&&(n=!0,c.item=t[19],B((()=>n=!1))),e.$set(c)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){tt(e,t),t&&m(o)}}}function xe(t){let e,n;return e=new Ct({props:{item:t[19],move:t[8],remove:t[10],$$slots:{default:[be]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[19]),268435457&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function we(t){let e,n,l,c,r,s,i,a,u,v,k,C,_,N,S,q,A,E,O,D,I,K,L,M,P,j,B,T,U,J,R=t[0].abilities.strength+8+"";function V(t,e){return t[2]?$e:me}let z=V(t),Z=z(t),Q=t[0].weapons,Y=[];for(let e=0;e<Q.length;e+=1)Y[e]=he(fe(t,Q,e));const X=t=>W(Y[t],1,1,(()=>{Y[t]=null}));let tt=t[0].equipment,et=[];for(let e=0;e<tt.length;e+=1)et[e]=xe(ue(t,tt,e));const nt=t=>W(et[t],1,1,(()=>{et[t]=null}));return{c(){e=p("div"),n=p("span"),l=g(t[1]),c=g(" / "),r=g(R),i=h(),a=p("span"),a.textContent="Armor",u=h(),v=p("div"),Z.c(),k=h(),C=p("hr"),_=h(),N=p("div"),S=p("span"),S.textContent="Weapons",q=h(),A=p("button"),A.textContent="Add",E=h();for(let t=0;t<Y.length;t+=1)Y[t].c();O=h(),D=p("hr"),I=h(),K=p("div"),L=p("span"),L.textContent="Equipment",M=h(),P=p("button"),P.textContent="Add",j=h();for(let t=0;t<et.length;t+=1)et[t].c();B=b(),w(n,"class",s="badge "+t[4]),w(e,"class","position-topright"),w(v,"class","d-flex mb-1"),w(A,"class","ml-auto btn btn-dark"),w(N,"class","d-flex align-items-end"),w(P,"class","ml-auto btn btn-dark"),w(K,"class","d-flex align-items-end")},m(o,s){d(o,e,s),f(e,n),f(n,l),f(n,c),f(n,r),d(o,i,s),d(o,a,s),d(o,u,s),d(o,v,s),Z.m(v,null),d(o,k,s),d(o,C,s),d(o,_,s),d(o,N,s),f(N,S),f(N,q),f(N,A),d(o,E,s);for(let t=0;t<Y.length;t+=1)Y[t].m(o,s);d(o,O,s),d(o,D,s),d(o,I,s),d(o,K,s),f(K,L),f(K,M),f(K,P),d(o,j,s);for(let t=0;t<et.length;t+=1)et[t].m(o,s);d(o,B,s),T=!0,U||(J=[x(A,"click",t[6]),x(P,"click",t[7])],U=!0)},p(t,[e]){if((!T||2&e)&&y(l,t[1]),(!T||1&e)&&R!==(R=t[0].abilities.strength+8+"")&&y(r,R),(!T||16&e&&s!==(s="badge "+t[4]))&&w(n,"class",s),z===(z=V(t))&&Z?Z.p(t,e):(Z.d(1),Z=z(t),Z&&(Z.c(),Z.m(v,null))),2561&e){let n;for(Q=t[0].weapons,n=0;n<Q.length;n+=1){const o=fe(t,Q,n);Y[n]?(Y[n].p(o,e),H(Y[n],1)):(Y[n]=he(o),Y[n].c(),H(Y[n],1),Y[n].m(O.parentNode,O))}for(F(),n=Q.length;n<Y.length;n+=1)X(n);G()}if(1281&e){let n;for(tt=t[0].equipment,n=0;n<tt.length;n+=1){const o=ue(t,tt,n);et[n]?(et[n].p(o,e),H(et[n],1)):(et[n]=xe(o),et[n].c(),H(et[n],1),et[n].m(B.parentNode,B))}for(F(),n=tt.length;n<et.length;n+=1)nt(n);G()}},i(t){if(!T){for(let t=0;t<Q.length;t+=1)H(Y[t]);for(let t=0;t<tt.length;t+=1)H(et[t]);T=!0}},o(t){Y=Y.filter(Boolean);for(let t=0;t<Y.length;t+=1)W(Y[t]);et=et.filter(Boolean);for(let t=0;t<et.length;t+=1)W(et[t]);T=!1},d(t){t&&m(e),t&&m(i),t&&m(a),t&&m(u),t&&m(v),Z.d(),t&&m(k),t&&m(C),t&&m(_),t&&m(N),t&&m(E),$(Y,t),t&&m(O),t&&m(D),t&&m(I),t&&m(K),t&&m(j),$(et,t),t&&m(B),U=!1,o(J)}}}function ve(t,e,n){let o=t.indexOf(n);t.splice(o,1),o+=e,o<0?o=t.length:o>t.length&&(o=0),t.splice(o,0,n)}function ye(t,e){let n=t.indexOf(e);t.splice(n,1)}function ke(t,e,n){let o,l,{model:c}=e;const r=["-","-d2","-d4","-d6"];let s,i;O((()=>{i&&i.focus()}));return t.$$set=t=>{"model"in t&&n(0,c=t.model)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=c.weapons.length+c.equipment.length),3&t.$$.dirty&&n(4,l=o>2*(c.abilities.strength+8)?"badge-danger":o>c.abilities.strength+8?"badge-warning":"badge-dark")},[c,o,s,i,l,r,function(){c.weapons.push({name:"",mags:0,damage:"d4",automatic:!1,melee:!1,notes:""}),n(0,c)},function(){c.equipment.push(""),n(0,c)},function(t,e){ve(c.equipment,t,e),n(0,c)},function(t,e){ve(c.weapons,t,e),n(0,c)},function(t){ye(c.equipment,t),n(0,c)},function(t){ye(c.weapons,t),n(0,c)},function(t){I[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},function(){c.armor=this.value,n(0,c),n(5,r)},function(){c.armorValue=N(this),n(0,c),n(5,r)},()=>n(2,s=!1),()=>n(2,s=!0),()=>n(2,s=!0),function(t,e,o,l){o[l]=t,n(0,c)}]}class Ce extends ot{constructor(t){super(),nt(this,t,ke,we,c,{model:0})}}function _e(e){let n,o,l,c,r=e[0].name+"";return{c(){n=p("button"),o=g(r),w(n,"class","btn btn-light border text-left flex-grow-1")},m(t,r){d(t,n,r),f(n,o),l||(c=x(n,"click",e[6]),l=!0)},p(t,e){1&e&&r!==(r=t[0].name+"")&&y(o,r)},i:t,o:t,d(t){t&&m(n),l=!1,c()}}}function Ne(t){let e,n,l,c,r,s,i,a,u,$,g,b,v,y,C,_,N,S,q;function A(e){t[4](e)}let E={};function O(e){t[5](e)}void 0!==t[0].persistent&&(E.content=t[0].persistent),u=new gt({props:E}),I.push((()=>Q(u,"content",A)));let D={};return void 0!==t[0].trigger&&(D.content=t[0].trigger),C=new gt({props:D}),I.push((()=>Q(C,"content",O))),{c(){e=p("div"),n=p("input"),l=h(),c=p("button"),c.textContent="Close",r=h(),s=p("span"),s.textContent="Persistent",i=h(),a=p("div"),Y(u.$$.fragment),g=h(),b=p("span"),b.textContent="Trigger",v=h(),y=p("div"),Y(C.$$.fragment),w(n,"class","flex-grow-1 form-control"),w(c,"class","btn btn-light border"),w(e,"class","d-flex flex-grow-1"),w(a,"class","d-flex"),w(y,"class","d-flex")},m(o,m){d(o,e,m),f(e,n),k(n,t[0].name),f(e,l),f(e,c),d(o,r,m),d(o,s,m),d(o,i,m),d(o,a,m),X(u,a,null),d(o,g,m),d(o,b,m),d(o,v,m),d(o,y,m),X(C,y,null),N=!0,S||(q=[x(n,"input",t[2]),x(c,"click",t[3])],S=!0)},p(t,e){1&e&&n.value!==t[0].name&&k(n,t[0].name);const o={};!$&&1&e&&($=!0,o.content=t[0].persistent,B((()=>$=!1))),u.$set(o);const l={};!_&&1&e&&(_=!0,l.content=t[0].trigger,B((()=>_=!1))),C.$set(l)},i(t){N||(H(u.$$.fragment,t),H(C.$$.fragment,t),N=!0)},o(t){W(u.$$.fragment,t),W(C.$$.fragment,t),N=!1},d(t){t&&m(e),t&&m(r),t&&m(s),t&&m(i),t&&m(a),tt(u),t&&m(g),t&&m(b),t&&m(v),t&&m(y),tt(C),S=!1,o(q)}}}function Se(t){let e,n,o,l;const c=[Ne,_e],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),w(e,"class","d-flex flex-column flex-grow-1")},m(t,o){d(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function qe(t,e,n){let{infestation:o}=e,l=!1;return t.$$set=t=>{"infestation"in t&&n(0,o=t.infestation)},[o,l,function(){o.name=this.value,n(0,o)},()=>n(1,l=!1),function(e){t.$$.not_equal(o.persistent,e)&&(o.persistent=e,n(0,o))},function(e){t.$$.not_equal(o.trigger,e)&&(o.trigger=e,n(0,o))},()=>n(1,l=!0)]}class Ae extends ot{constructor(t){super(),nt(this,t,qe,Se,c,{infestation:0})}}function Ee(e){let n,l,c,r,s,i,a,u,$,b=e[0].name+"",v=e[0].used+"";return{c(){n=p("button"),l=g(b),c=h(),r=p("button"),s=g(v),i=h(),a=p("button"),a.textContent="Reset",w(n,"class","btn btn-light border text-left flex-grow-1"),w(r,"class","btn btn-dark ml-1"),w(a,"class","btn btn-light border ml-1")},m(t,o){d(t,n,o),f(n,l),d(t,c,o),d(t,r,o),f(r,s),d(t,i,o),d(t,a,o),u||($=[x(n,"click",e[7]),x(r,"click",e[2]),x(a,"click",e[8])],u=!0)},p(t,e){1&e&&b!==(b=t[0].name+"")&&y(l,b),1&e&&v!==(v=t[0].used+"")&&y(s,v)},i:t,o:t,d(t){t&&m(n),t&&m(c),t&&m(r),t&&m(i),t&&m(a),u=!1,o($)}}}function Oe(t){let e,n,l,c,r,s,i,a,u,$,b,v,C,_,N,S,q,A,E,O,D,K,L=t[0].used+"";function M(e){t[6](e)}let P={};return void 0!==t[0].description&&(P.content=t[0].description),C=new gt({props:P}),I.push((()=>Q(C,"content",M))),E=new Ae({props:{infestation:t[0].infestation}}),{c(){e=p("div"),n=p("div"),l=p("input"),c=h(),r=p("button"),r.textContent="Close",s=h(),i=p("button"),a=g(L),u=h(),$=p("button"),$.textContent="Reset",b=h(),v=p("div"),Y(C.$$.fragment),N=h(),S=p("span"),S.textContent="Linked Infestation",q=h(),A=p("div"),Y(E.$$.fragment),w(l,"class","flex-grow-1 form-control"),w(r,"class","btn btn-light border"),w(i,"class","btn btn-dark ml-1"),w($,"class","btn btn-light border ml-1"),w(n,"class","d-flex flex-grow-1"),w(v,"class","d-flex"),w(A,"class","pl-3"),w(e,"class","d-flex flex-column flex-grow-1")},m(o,m){d(o,e,m),f(e,n),f(n,l),k(l,t[0].name),f(n,c),f(n,r),f(n,s),f(n,i),f(i,a),f(n,u),f(n,$),f(e,b),f(e,v),X(C,v,null),f(e,N),f(e,S),f(e,q),f(e,A),X(E,A,null),O=!0,D||(K=[x(l,"input",t[3]),x(r,"click",t[4]),x(i,"click",t[2]),x($,"click",t[5])],D=!0)},p(t,e){1&e&&l.value!==t[0].name&&k(l,t[0].name),(!O||1&e)&&L!==(L=t[0].used+"")&&y(a,L);const n={};!_&&1&e&&(_=!0,n.content=t[0].description,B((()=>_=!1))),C.$set(n);const o={};1&e&&(o.infestation=t[0].infestation),E.$set(o)},i(t){O||(H(C.$$.fragment,t),H(E.$$.fragment,t),O=!0)},o(t){W(C.$$.fragment,t),W(E.$$.fragment,t),O=!1},d(t){t&&m(e),tt(C),tt(E),D=!1,o(K)}}}function De(t){let e,n,o,l;const c=[Oe,Ee],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),w(e,"class","d-flex flex-grow-1")},m(t,o){d(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function Ie(t,e,n){let o,{nano:l}=e;return t.$$set=t=>{"nano"in t&&n(0,l=t.nano)},[l,o,function(t){let e=t.shiftKey?-1:1;n(0,l.used+=e,l),l.used<0&&n(0,l.used=0,l)},function(){l.name=this.value,n(0,l)},()=>n(1,o=!1),()=>n(0,l.used=0,l),function(e){t.$$.not_equal(l.description,e)&&(l.description=e,n(0,l))},()=>n(1,o=!0),()=>n(0,l.used=0,l)]}class Ke extends ot{constructor(t){super(),nt(this,t,Ie,De,c,{nano:0})}}function Le(t,e,n){const o=t.slice();return o[4]=e[n],o}function Me(t){let e,n,o;return e=new Ke({props:{nano:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),d(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.nano=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function Pe(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Me]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function je(t){let e,n,o,l,c,r,s=t[0].nano,i=[];for(let e=0;e<s.length;e+=1)i[e]=Pe(Le(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),w(e,"class","btn btn-dark")},m(s,a){d(s,e,a),d(s,n,a);for(let t=0;t<i.length;t+=1)i[t].m(s,a);d(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].nano,n=0;n<s.length;n+=1){const l=Le(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=Pe(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function Be(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.nano.push({name:"Nano power",description:"",used:0,infestation:{name:"Infestation",persistent:"",trigger:""}}),n(0,o)},function(t,e){let l=o.nano.indexOf(e);o.nano.splice(l,1),l+=t,l<0?l=o.nano.length:l>o.nano.length&&(l=0),o.nano.splice(l,0,e),n(0,o)},function(t){let e=o.nano.indexOf(t);o.nano.splice(e,1),n(0,o)}]}class Te extends ot{constructor(t){super(),nt(this,t,Be,je,c,{model:0})}}const Ue=(t,e)=>{for(let n in e)t[n]||(t[n]=e[n]),"object"==typeof t[n]&&Ue(t[n],e[n])};var Je=t=>{if(confirm(`Delete ${t.name}?`))return localStorage.removeItem(t.name),{success:`${t.name} deleted from character storage`}},Re=()=>{if(confirm("Delete all saved characters?"))return localStorage.clear(),{success:"All characters deleted from character storage"}},Ve=t=>{let e=URL.createObjectURL(new Blob([JSON.stringify(t)])),n=document.createElement("a");n.href=e,n.download=`${t.name}.cybrg`,n.click()},ze=t=>{let e=document.createElement("input");e.type="file",e.accept=".cybrg",e.onchange=e=>{e.target.files[0].text().then((e=>{let n=JSON.parse(e).name;localStorage.setItem(n,e),t(`${n} added to character storage`)}))},e.click()},Fe=(t,e)=>{let n=e;if(n==`${t.name}.cybrg`)return{model:t};let o="";return t.name&&confirm(`Save ${t.name} before changing characters?`)&&(localStorage.setItem(t.name,JSON.stringify(t)),o+=`${t.name} saved, `),t=JSON.parse(localStorage.getItem(n)),Ue(t,lt()),{model:t,alert:{success:`${o}${t.name} opened`}}},Ge=()=>{let t=[...new Array(window.localStorage.length)].map(((t,e)=>window.localStorage.key(e)));return t=t.filter((t=>t.endsWith(".cybrg"))),t.sort(((t,e)=>t.localeCompare(e))),t},He=t=>t.name?(localStorage.setItem(`${t.name}.cybrg`,JSON.stringify(t)),{success:`${t.name} saved`}):{error:"Cannot save an unnamed character"};function We(t,e,n){const o=t.slice();return o[27]=e[n],o}function Ze(t){let e,n,l,c,r=t[27]+"";function s(){return t[16](t[27])}return{c(){e=p("button"),n=g(r),w(e,"class","dropdown-item")},m(o,r){d(o,e,r),f(e,n),l||(c=[x(e,"blur",t[6]),x(e,"click",s)],l=!0)},p(e,o){t=e,4&o&&r!==(r=t[27]+"")&&y(n,r)},d(t){t&&m(e),l=!1,o(c)}}}function Qe(t){let e,n,l,c,r,s=t[3].error+"";return{c(){e=p("button"),n=p("strong"),l=g(s),w(e,"class","alert alert-static alert-danger btn text-center w-100")},m(o,s){d(o,e,s),f(e,n),f(n,l),t[22](e),c||(r=[x(e,"blur",t[23]),x(e,"click",t[24])],c=!0)},p(t,e){8&e&&s!==(s=t[3].error+"")&&y(l,s)},d(n){n&&m(e),t[22](null),c=!1,o(r)}}}function Ye(t){let e,n,l,c,r,s=t[3].success+"";return{c(){e=p("button"),n=p("strong"),l=g(s),w(e,"class","alert alert-static alert-success btn text-center w-100")},m(o,s){d(o,e,s),f(e,n),f(n,l),t[19](e),c||(r=[x(e,"blur",t[20]),x(e,"click",t[21])],c=!0)},p(t,e){8&e&&s!==(s=t[3].success+"")&&y(l,s)},d(n){n&&m(e),t[19](null),c=!1,o(r)}}}function Xe(e){let n,l,c,r,s,i,a,u,g,v,y,k,_,N,q,A,E,O,D,I,K,L,M,P,j,B,T,U,J,R,V,z,F=e[2],G=[];for(let t=0;t<F.length;t+=1)G[t]=Ze(We(e,F,t));function H(t,e){return t[3]?.success?Ye:t[3]?.error?Qe:void 0}let W=H(e),Z=W&&W(e);return{c(){n=p("nav"),l=p("button"),l.innerHTML='<span class="navbar-toggler-icon"></span>',c=h(),r=p("div"),s=p("ul"),i=p("li"),a=p("a"),a.textContent="Characters",u=h(),g=p("div");for(let t=0;t<G.length;t+=1)G[t].c();y=h(),k=p("div"),_=p("div"),N=p("button"),N.textContent="Options",q=h(),A=p("div"),E=p("button"),E.textContent="Save",O=h(),D=p("button"),D.textContent="Export",I=h(),K=p("button"),K.textContent="Import",L=h(),M=p("button"),M.textContent="Delete",P=h(),j=p("button"),j.textContent="Delete all",B=h(),T=p("button"),T.textContent=("dark"==ct?"Light":"Dark")+" mode",J=h(),Z&&Z.c(),R=b(),w(l,"class","navbar-toggler"),w(l,"type","button"),w(a,"href","#"),w(a,"class","nav-link dropdown-toggle"),S(a,"disabled",!e[2].length),w(g,"class","dropdown-menu"),w(g,"style",v="display: "+("characters"==e[1]?"block":"none")),w(i,"class","nav-item dropdown"),w(s,"class","navbar-nav mr-auto"),w(N,"href","#"),w(N,"class","dropdown-toggle btn btn-light border border-dark"),w(E,"class","dropdown-item"),w(D,"class","dropdown-item"),w(K,"class","dropdown-item"),w(M,"class","dropdown-item"),w(j,"class","dropdown-item"),w(T,"class","dropdown-item"),w(A,"class","dropdown-menu"),w(A,"style",U="display: "+("options"==e[1]?"block":"none")),w(_,"class","nav-item dropdown"),w(k,"class","navbar-nav"),w(r,"class","collapse navbar-collapse"),C(r,"display",e[0]),w(n,"class","navbar navbar-expand-md navbar-light bg-light")},m(t,o){d(t,n,o),f(n,l),f(n,c),f(n,r),f(r,s),f(s,i),f(i,a),f(i,u),f(i,g);for(let t=0;t<G.length;t+=1)G[t].m(g,null);f(r,y),f(r,k),f(k,_),f(_,N),f(_,q),f(_,A),f(A,E),f(A,O),f(A,D),f(A,I),f(A,K),f(A,L),f(A,M),f(A,P),f(A,j),f(A,B),f(A,T),d(t,J,o),Z&&Z.m(t,o),d(t,R,o),V||(z=[x(l,"click",e[12]),x(a,"blur",e[6]),x(a,"click",e[15]),x(N,"blur",e[6]),x(N,"click",e[17]),x(E,"click",e[10]),x(E,"blur",e[6]),x(D,"click",e[9]),x(D,"blur",e[6]),x(K,"click",e[13]),x(K,"blur",e[6]),x(M,"click",e[7]),x(M,"blur",e[6]),x(j,"click",e[8]),x(j,"blur",e[6]),x(T,"click",e[18])],V=!0)},p(t,[e]){if(4&e&&S(a,"disabled",!t[2].length),100&e){let n;for(F=t[2],n=0;n<F.length;n+=1){const o=We(t,F,n);G[n]?G[n].p(o,e):(G[n]=Ze(o),G[n].c(),G[n].m(g,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=F.length}2&e&&v!==(v="display: "+("characters"==t[1]?"block":"none"))&&w(g,"style",v),2&e&&U!==(U="display: "+("options"==t[1]?"block":"none"))&&w(A,"style",U),1&e&&C(r,"display",t[0]),W===(W=H(t))&&Z?Z.p(t,e):(Z&&Z.d(1),Z=W&&W(t),Z&&(Z.c(),Z.m(R.parentNode,R)))},i:t,o:t,d(t){t&&m(n),$(G,t),t&&m(J),Z&&Z.d(t),t&&m(R),V=!1,o(z)}}}function tn(t,e,n){let o,l,{model:c=lt()}=e,r="none",s="",i=[];function a(t){let e=Fe(c,t);n(14,c=e.model),n(3,o=e.alert),d()}function u(){n(2,i=Ge())}function f(t){n(1,s=t)}function d(){n(0,r="none"==r?"block":"none")}u();let m=window.setInterval((()=>{console.log(`Autosave (${c.name})`),null!=i.find((t=>t==c.name))&&He(c)}),1e4);var $;O((()=>{l&&l.focus()})),$=()=>{clearInterval(m)},E().$$.on_destroy.push($);return t.$$set=t=>{"model"in t&&n(14,c=t.model)},[r,s,i,o,l,a,function(t){t.relatedTarget?.className.includes("dropdown-item")||n(1,s="")},function(){n(3,o=Je(c)),u(),d()},function(){n(3,o=Re()),u(),d()},function(){Ve(c),d()},function(){n(3,o=He(c)),n(2,i=Ge()),d()},f,d,function(){ze((t=>{n(3,o={success:t}),n(2,i=Ge())})),d()},c,()=>f("characters"),t=>a(t),()=>f("options"),()=>{return t="dark"==ct?"light":"dark",void(window.location.search=`theme=${t}`);var t},function(t){I[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},()=>n(3,o=null),()=>n(3,o=null),function(t){I[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},()=>n(3,o=null),()=>n(3,o=null)]}class en extends ot{constructor(t){super(),nt(this,t,tn,Xe,c,{model:14})}}function nn(t){let e,n,o,l,c,s,$,b,v;const k=t[4].default,_=r(k,t,t[3],null);return{c(){e=p("div"),n=p("h4"),o=p("button"),l=g(t[0]),c=h(),s=p("span"),_&&_.c(),w(o,"class","btn btn-dark badge"),C(o,"width","2.0em"),w(s,"class","align-self-center ml-1"),w(e,"class","d-flex")},m(r,i){d(r,e,i),f(e,n),f(n,o),f(o,l),f(e,c),f(e,s),_&&_.m(s,null),$=!0,b||(v=x(o,"click",t[1]),b=!0)},p(t,[e]){(!$||1&e)&&y(l,t[0]),_&&_.p&&(!$||8&e)&&a(_,k,t,t[3],$?i(k,t[3],e,null):u(t[3]),null)},i(t){$||(H(_,t),$=!0)},o(t){W(_,t),$=!1},d(t){t&&m(e),_&&_.d(t),b=!1,v()}}}function on(t,e,n){let o,{$$slots:l={},$$scope:c}=e,{score:r}=e;return t.$$set=t=>{"score"in t&&n(2,r=t.score),"$$scope"in t&&n(3,c=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&n(0,o=r>0?`+${r}`:`${r}`)},[o,function(t){n(2,r+=t.shiftKey?-1:1),r<-3&&n(2,r=3),r>3&&n(2,r=-3)},r,c,l]}class ln extends ot{constructor(t){super(),nt(this,t,on,nn,c,{score:2})}}function cn(t){let e;return{c(){e=g("Strength")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function rn(t){let e;return{c(){e=g("Agility")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function sn(t){let e;return{c(){e=g("Presence")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function an(t){let e;return{c(){e=g("Toughness")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function un(t){let e;return{c(){e=g("Knowledge")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function fn(t){let e,n,o,l,c,r,s,i,a,u,f,$,p,g,b;function x(e){t[1](e)}let w={$$slots:{default:[cn]},$$scope:{ctx:t}};function v(e){t[2](e)}void 0!==t[0].abilities.strength&&(w.score=t[0].abilities.strength),e=new ln({props:w}),I.push((()=>Q(e,"score",x)));let y={$$slots:{default:[rn]},$$scope:{ctx:t}};function k(e){t[3](e)}void 0!==t[0].abilities.agility&&(y.score=t[0].abilities.agility),l=new ln({props:y}),I.push((()=>Q(l,"score",v)));let C={$$slots:{default:[sn]},$$scope:{ctx:t}};function _(e){t[4](e)}void 0!==t[0].abilities.presence&&(C.score=t[0].abilities.presence),s=new ln({props:C}),I.push((()=>Q(s,"score",k)));let N={$$slots:{default:[an]},$$scope:{ctx:t}};function S(e){t[5](e)}void 0!==t[0].abilities.toughness&&(N.score=t[0].abilities.toughness),u=new ln({props:N}),I.push((()=>Q(u,"score",_)));let q={$$slots:{default:[un]},$$scope:{ctx:t}};return void 0!==t[0].abilities.knowledge&&(q.score=t[0].abilities.knowledge),p=new ln({props:q}),I.push((()=>Q(p,"score",S))),{c(){Y(e.$$.fragment),o=h(),Y(l.$$.fragment),r=h(),Y(s.$$.fragment),a=h(),Y(u.$$.fragment),$=h(),Y(p.$$.fragment)},m(t,n){X(e,t,n),d(t,o,n),X(l,t,n),d(t,r,n),X(s,t,n),d(t,a,n),X(u,t,n),d(t,$,n),X(p,t,n),b=!0},p(t,[o]){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,r.score=t[0].abilities.strength,B((()=>n=!1))),e.$set(r);const a={};64&o&&(a.$$scope={dirty:o,ctx:t}),!c&&1&o&&(c=!0,a.score=t[0].abilities.agility,B((()=>c=!1))),l.$set(a);const d={};64&o&&(d.$$scope={dirty:o,ctx:t}),!i&&1&o&&(i=!0,d.score=t[0].abilities.presence,B((()=>i=!1))),s.$set(d);const m={};64&o&&(m.$$scope={dirty:o,ctx:t}),!f&&1&o&&(f=!0,m.score=t[0].abilities.toughness,B((()=>f=!1))),u.$set(m);const $={};64&o&&($.$$scope={dirty:o,ctx:t}),!g&&1&o&&(g=!0,$.score=t[0].abilities.knowledge,B((()=>g=!1))),p.$set($)},i(t){b||(H(e.$$.fragment,t),H(l.$$.fragment,t),H(s.$$.fragment,t),H(u.$$.fragment,t),H(p.$$.fragment,t),b=!0)},o(t){W(e.$$.fragment,t),W(l.$$.fragment,t),W(s.$$.fragment,t),W(u.$$.fragment,t),W(p.$$.fragment,t),b=!1},d(t){tt(e,t),t&&m(o),tt(l,t),t&&m(r),tt(s,t),t&&m(a),tt(u,t),t&&m($),tt(p,t)}}}function dn(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(e){t.$$.not_equal(o.abilities.strength,e)&&(o.abilities.strength=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.agility,e)&&(o.abilities.agility=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.presence,e)&&(o.abilities.presence=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.toughness,e)&&(o.abilities.toughness=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.knowledge,e)&&(o.abilities.knowledge=e,n(0,o))}]}class mn extends ot{constructor(t){super(),nt(this,t,dn,fn,c,{model:0})}}function $n(t,e,n){const o=t.slice();return o[9]=e[n],o}function pn(t){let e,n,o,l,c=t[0].die+"";return{c(){e=p("button"),n=g(c),w(e,"class","btn btn-light border ml-1")},m(c,r){d(c,e,r),f(e,n),o||(l=x(e,"click",t[6]),o=!0)},p(t,e){1&e&&c!==(c=t[0].die+"")&&y(n,c)},d(t){t&&m(e),o=!1,l()}}}function gn(t){let e,n,l,c,r,s,i=t[2],a=[];for(let e=0;e<i.length;e+=1)a[e]=hn($n(t,i,e));return{c(){e=p("div"),n=p("select");for(let t=0;t<a.length;t+=1)a[t].c();l=h(),c=p("button"),c.textContent="Close",w(n,"class","form-control"),void 0===t[0].die&&j((()=>t[4].call(n))),w(e,"class","ml-1"),w(c,"class","btn btn-light border ml-1")},m(o,i){d(o,e,i),f(e,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);_(n,t[0].die),d(o,l,i),d(o,c,i),r||(s=[x(n,"change",t[4]),x(c,"click",t[5])],r=!0)},p(t,e){if(4&e){let o;for(i=t[2],o=0;o<i.length;o+=1){const l=$n(t,i,o);a[o]?a[o].p(l,e):(a[o]=hn(l),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}5&e&&_(n,t[0].die)},d(t){t&&m(e),$(a,t),t&&m(l),t&&m(c),r=!1,o(s)}}}function hn(e){let n,o,l=e[9]+"";return{c(){n=p("option"),o=g(l),n.__value=e[9],n.value=n.__value},m(t,e){d(t,n,e),f(n,o)},p:t,d(t){t&&m(n)}}}function bn(e){let n,l,c,r,s,i,a,u,$,b,v,k,C,_,N,S=e[0].current+"";function q(t,e){return t[1]?gn:pn}let A=q(e),E=A(e);return{c(){n=p("div"),l=p("button"),c=g(S),r=h(),s=p("span"),s.textContent="Glitches",i=h(),a=p("span"),a.textContent="Die",u=h(),E.c(),$=h(),b=p("div"),v=p("button"),v.textContent="+",k=h(),C=p("button"),C.textContent="-",w(l,"class","btn btn-dark"),w(s,"class","align-self-center ml-1"),w(a,"class","align-self-center ml-auto"),w(v,"class","btn btn-dark"),w(C,"class","btn btn-dark"),w(b,"class","btn-group ml-1"),w(n,"class","d-flex")},m(t,o){d(t,n,o),f(n,l),f(l,c),f(n,r),f(n,s),f(n,i),f(n,a),f(n,u),E.m(n,null),f(n,$),f(n,b),f(b,v),f(b,k),f(b,C),_||(N=[x(l,"click",e[3]),x(v,"click",e[7]),x(C,"click",e[8])],_=!0)},p(t,[e]){1&e&&S!==(S=t[0].current+"")&&y(c,S),A===(A=q(t))&&E?E.p(t,e):(E.d(1),E=A(t),E&&(E.c(),E.m(n,$)))},i:t,o:t,d(t){t&&m(n),E.d(),_=!1,o(N)}}}function xn(t,e,n){let{glitches:o}=e;const l=["d2","d3","d4"];function c(t){let e=t.shiftKey?1:-1;n(0,o.current+=e,o),o.current<0&&n(0,o.current=0,o)}let r=!1;return t.$$set=t=>{"glitches"in t&&n(0,o=t.glitches)},[o,r,l,c,function(){o.die=N(this),n(0,o),n(2,l)},()=>n(1,r=!1),()=>n(1,r=!0),()=>c({shiftKey:!0}),()=>c({shiftKey:!1})]}class wn extends ot{constructor(t){super(),nt(this,t,xn,bn,c,{glitches:0})}}function vn(e){let n,l,c,r,s,i,a,u,$,b,v,k,C,_,N,S,q,A,E,O,D,I,K,L,M=e[0].current+"",P=e[0].max+"";return{c(){n=p("div"),l=p("h3"),c=p("button"),r=g(M),s=h(),i=p("span"),i.textContent="/",a=h(),u=p("h3"),$=p("button"),b=g(P),v=h(),k=p("span"),k.textContent="Hit Points",C=h(),_=p("div"),N=p("button"),N.textContent="+",S=h(),q=p("button"),q.textContent="-",A=h(),E=p("div"),O=p("button"),O.textContent="+max",D=h(),I=p("button"),I.textContent="-max",w(c,"class","btn-dark badge"),w(i,"class","ml-2 mr-2 align-self-center"),w($,"class","btn-dark badge"),w(k,"class","ml-2 align-self-center"),w(N,"class","btn btn-dark align-self-center"),w(q,"class","btn btn-dark align-self-center"),w(_,"class","btn-group ml-auto"),w(O,"class","btn btn-dark align-self-center"),w(I,"class","btn btn-dark align-self-center"),w(E,"class","btn-group ml-1"),w(n,"class","d-flex")},m(t,o){d(t,n,o),f(n,l),f(l,c),f(c,r),f(n,s),f(n,i),f(n,a),f(n,u),f(u,$),f($,b),f(n,v),f(n,k),f(n,C),f(n,_),f(_,N),f(_,S),f(_,q),f(n,A),f(n,E),f(E,O),f(E,D),f(E,I),K||(L=[x(c,"click",e[1]),x($,"click",e[2]),x(N,"click",e[3]),x(q,"click",e[4]),x(O,"click",e[5]),x(I,"click",e[6])],K=!0)},p(t,[e]){1&e&&M!==(M=t[0].current+"")&&y(r,M),1&e&&P!==(P=t[0].max+"")&&y(b,P)},i:t,o:t,d(t){t&&m(n),K=!1,o(L)}}}function yn(t,e,n){let{hp:o}=e;function l(t){n(0,o.current+=t.shiftKey?1:-1,o)}function c(t){n(0,o.max+=t.shiftKey?-1:1,o)}return t.$$set=t=>{"hp"in t&&n(0,o=t.hp)},[o,l,c,()=>l({shiftKey:!0}),()=>l({shiftKey:!1}),()=>c({shiftKey:!1}),()=>c({shiftKey:!0})]}class kn extends ot{constructor(t){super(),nt(this,t,yn,vn,c,{hp:0})}}function Cn(t){let e,n,o,l,c,r,s,i;return e=new kn({props:{hp:t[0].hp}}),o=new wn({props:{glitches:t[0].glitches}}),s=new mn({props:{model:t[0]}}),{c(){Y(e.$$.fragment),n=h(),Y(o.$$.fragment),l=h(),c=p("hr"),r=h(),Y(s.$$.fragment)},m(t,a){X(e,t,a),d(t,n,a),X(o,t,a),d(t,l,a),d(t,c,a),d(t,r,a),X(s,t,a),i=!0},p(t,[n]){const l={};1&n&&(l.hp=t[0].hp),e.$set(l);const c={};1&n&&(c.glitches=t[0].glitches),o.$set(c);const r={};1&n&&(r.model=t[0]),s.$set(r)},i(t){i||(H(e.$$.fragment,t),H(o.$$.fragment,t),H(s.$$.fragment,t),i=!0)},o(t){W(e.$$.fragment,t),W(o.$$.fragment,t),W(s.$$.fragment,t),i=!1},d(t){tt(e,t),t&&m(n),tt(o,t),t&&m(l),t&&m(c),t&&m(r),tt(s,t)}}}function _n(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o]}class Nn extends ot{constructor(t){super(),nt(this,t,_n,Cn,c,{model:0})}}function Sn(t,e,n){const o=t.slice();return o[4]=e[n],o}function qn(t){let e,n,o;return e=new Ae({props:{infestation:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),d(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.infestation=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function An(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[qn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function En(t){let e,n,o,l,c,r,s=t[0].infestations,i=[];for(let e=0;e<s.length;e+=1)i[e]=An(Sn(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),w(e,"class","btn btn-dark")},m(s,a){d(s,e,a),d(s,n,a);for(let t=0;t<i.length;t+=1)i[t].m(s,a);d(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].infestations,n=0;n<s.length;n+=1){const l=Sn(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=An(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function On(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.infestations.push({name:"Infestation",persistent:"",trigger:""}),n(0,o)},function(t,e){let l=o.infestations.indexOf(e);o.infestations.splice(l,1),l+=t,l<0?l=o.infestations.length:l>o.infestations.length&&(l=0),o.infestations.splice(l,0,e),n(0,o)},function(t){let e=o.infestations.indexOf(t);o.infestations.splice(e,1),n(0,o)}]}class Dn extends ot{constructor(t){super(),nt(this,t,On,En,c,{model:0})}}function In(e){let n,o,l,c,r=e[0].name+"";return{c(){n=p("button"),o=g(r),w(n,"class","btn btn-light border text-left flex-grow-1")},m(t,r){d(t,n,r),f(n,o),l||(c=x(n,"click",e[5]),l=!0)},p(t,e){1&e&&r!==(r=t[0].name+"")&&y(o,r)},i:t,o:t,d(t){t&&m(n),l=!1,c()}}}function Kn(t){let e,n,l,c,r,s,i,a,u,$,g;function b(e){t[4](e)}let v={};return void 0!==t[0].description&&(v.content=t[0].description),i=new gt({props:v}),I.push((()=>Q(i,"content",b))),{c(){e=p("div"),n=p("input"),l=h(),c=p("button"),c.textContent="Close",r=h(),s=p("div"),Y(i.$$.fragment),w(n,"class","flex-grow-1 form-control"),w(c,"class","btn btn-light border"),w(e,"class","d-flex flex-grow-1"),w(s,"class","d-flex")},m(o,a){d(o,e,a),f(e,n),k(n,t[0].name),f(e,l),f(e,c),d(o,r,a),d(o,s,a),X(i,s,null),u=!0,$||(g=[x(n,"input",t[2]),x(c,"click",t[3])],$=!0)},p(t,e){1&e&&n.value!==t[0].name&&k(n,t[0].name);const o={};!a&&1&e&&(a=!0,o.content=t[0].description,B((()=>a=!1))),i.$set(o)},i(t){u||(H(i.$$.fragment,t),u=!0)},o(t){W(i.$$.fragment,t),u=!1},d(t){t&&m(e),t&&m(r),t&&m(s),tt(i),$=!1,o(g)}}}function Ln(t){let e,n,o,l;const c=[Kn,In],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),w(e,"class","d-flex flex-column flex-grow-1")},m(t,o){d(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function Mn(t,e,n){let o,{cyberware:l}=e;return t.$$set=t=>{"cyberware"in t&&n(0,l=t.cyberware)},[l,o,function(){l.name=this.value,n(0,l)},()=>n(1,o=!1),function(e){t.$$.not_equal(l.description,e)&&(l.description=e,n(0,l))},()=>n(1,o=!0)]}class Pn extends ot{constructor(t){super(),nt(this,t,Mn,Ln,c,{cyberware:0})}}function jn(t,e,n){const o=t.slice();return o[4]=e[n],o}function Bn(t){let e,n,o;return e=new Pn({props:{cyberware:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),d(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.cyberware=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function Tn(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Bn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Un(t){let e,n,o,l,c,r,s=t[0].cybertech,i=[];for(let e=0;e<s.length;e+=1)i[e]=Tn(jn(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),w(e,"class","btn btn-dark")},m(s,a){d(s,e,a),d(s,n,a);for(let t=0;t<i.length;t+=1)i[t].m(s,a);d(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].cybertech,n=0;n<s.length;n+=1){const l=jn(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=Tn(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function Jn(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.cybertech.push({name:"Cyberware",description:""}),n(0,o)},function(t,e){let l=o.cybertech.indexOf(e);o.cybertech.splice(l,1),l+=t,l<0?l=o.cybertech.length:l>o.cybertech.length&&(l=0),o.cybertech.splice(l,0,e),n(0,o)},function(t){let e=o.cybertech.indexOf(t);o.cybertech.splice(e,1),n(0,o)}]}class Rn extends ot{constructor(t){super(),nt(this,t,Jn,Un,c,{model:0})}}var Vn=(t=new Date)=>{let e=t.getDate().toString();1==e.length&&(e=`0${e}`);let n=(t.getMonth()+1).toString();1==n.length&&(n=`0${n}`);let o=t.getFullYear();for(;o.length<4;)o=`0${o}`;return`${o}-${n}-${e}`};function zn(t){let e,n,l,c,r,s,i,a,u,$,g,b,v,y,k;function C(t,e){return t[3]?Hn:Gn}let _=C(t),N=_(t);function S(e){t[15](e)}let q={highlight:t[2]};return void 0!==t[0].content&&(q.content=t[0].content),g=new gt({props:q}),I.push((()=>Q(g,"content",S))),{c(){e=p("div"),n=p("div"),l=p("div"),c=p("div"),N.c(),r=h(),s=p("button"),s.textContent="hide",i=h(),a=p("button"),a.textContent="delete",u=h(),$=p("div"),Y(g.$$.fragment),w(s,"class","badge btn btn-light border ml-1 p-2"),w(a,"class","badge btn btn-light border ml-1 p-2"),w(c,"class","d-flex"),w($,"class","d-flex"),w(l,"class","card-body"),w(n,"class","card"),w(e,"class","col-12")},m(o,m){d(o,e,m),f(e,n),f(n,l),f(l,c),N.m(c,null),f(c,r),f(c,s),f(c,i),f(c,a),f(l,u),f(l,$),X(g,$,null),v=!0,y||(k=[x(s,"click",t[13]),x(a,"click",t[14])],y=!0)},p(t,e){_===(_=C(t))&&N?N.p(t,e):(N.d(1),N=_(t),N&&(N.c(),N.m(c,r)));const n={};4&e&&(n.highlight=t[2]),!b&&1&e&&(b=!0,n.content=t[0].content,B((()=>b=!1))),g.$set(n)},i(t){v||(H(g.$$.fragment,t),v=!0)},o(t){W(g.$$.fragment,t),v=!1},d(t){t&&m(e),N.d(),tt(g),y=!1,o(k)}}}function Fn(e){let n,l,c,r,s,i,a,u,$,b=e[0].title+"",v=Vn(e[5])+"";return{c(){n=p("div"),l=p("h4"),c=p("button"),r=g(b),s=h(),i=p("button"),a=g(v),w(c,"class","badge btn btn-light w-100 text-left"),C(c,"min-height","2.2em"),w(l,"class","flex-grow-1 m-0"),w(i,"class","badge btn btn-light border ml-1 p-2"),w(n,"class","col-12 d-flex")},m(t,o){d(t,n,o),f(n,l),f(l,c),f(c,r),f(n,s),f(n,i),f(i,a),u||($=[x(c,"click",e[7]),x(i,"click",e[8])],u=!0)},p(t,e){1&e&&b!==(b=t[0].title+"")&&y(r,b),32&e&&v!==(v=Vn(t[5])+"")&&y(a,v)},i:t,o:t,d(t){t&&m(n),u=!1,o($)}}}function Gn(t){let e,n,o,l,c=t[0].title+"";return{c(){e=p("button"),n=g(c),w(e,"class","btn btn-light w-100 text-left font-weight-bold"),C(e,"min-height","2.2em")},m(c,r){d(c,e,r),f(e,n),o||(l=x(e,"click",t[12]),o=!0)},p(t,e){1&e&&c!==(c=t[0].title+"")&&y(n,c)},d(t){t&&m(e),o=!1,l()}}}function Hn(t){let e,n,l;return{c(){e=p("input"),w(e,"class","form-control")},m(o,c){d(o,e,c),t[10](e),k(e,t[0].title),n||(l=[x(e,"blur",t[9]),x(e,"input",t[11])],n=!0)},p(t,n){1&n&&e.value!==t[0].title&&k(e,t[0].title)},d(c){c&&m(e),t[10](null),n=!1,o(l)}}}function Wn(t){let e,n,o,l;const c=[Fn,zn],r=[];function s(t,e){return t[6]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){r[e].m(t,n),d(t,o,n),l=!0},p(t,[l]){let i=e;e=s(t),e===i?r[e].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),n=r[e],n?n.p(t,l):(n=r[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){l||(H(n),l=!0)},o(t){W(n),l=!1},d(t){r[e].d(t),t&&m(o)}}}function Zn(t,e,n){let o,l,c,{actions:r}=e,{note:s}=e,{highlight:i}=e,a=!1;O((()=>{c&&c.focus()}));return t.$$set=t=>{"actions"in t&&n(1,r=t.actions),"note"in t&&n(0,s=t.note),"highlight"in t&&n(2,i=t.highlight)},t.$$.update=()=>{4&t.$$.dirty&&n(6,o=""==i),1&t.$$.dirty&&n(5,l=new Date(s.date))},[s,r,i,a,c,l,o,()=>n(6,o=!1),()=>n(6,o=!1),()=>n(3,a=!1),function(t){I[t?"unshift":"push"]((()=>{c=t,n(4,c)}))},function(){s.title=this.value,n(0,s)},()=>n(3,a=!0),()=>n(6,o=!0),()=>r.delete(s),function(e){t.$$.not_equal(s.content,e)&&(s.content=e,n(0,s))}]}class Qn extends ot{constructor(t){super(),nt(this,t,Zn,Wn,c,{actions:1,note:0,highlight:2})}}function Yn(t,e,n){const o=t.slice();return o[14]=e[n],o}function Xn(t,e){let n,o,l;return o=new Qn({props:{note:e[14],actions:e[3],highlight:e[0]}}),{key:t,first:null,c(){n=b(),Y(o.$$.fragment),this.first=n},m(t,e){d(t,n,e),X(o,t,e),l=!0},p(t,n){e=t;const l={};4&n&&(l.note=e[14]),1&n&&(l.highlight=e[0]),o.$set(l)},i(t){l||(H(o.$$.fragment,t),l=!0)},o(t){W(o.$$.fragment,t),l=!1},d(t){t&&m(n),tt(o,t)}}}function to(t){let e,n,l,c,r,s,i,a,u,$,g,b,v,y,C,_,N,S,q,A,E,O,D,I=[],K=new Map,L=t[2];const M=t=>t[14].id;for(let e=0;e<L.length;e+=1){let n=Yn(t,L,e),o=M(n);K.set(o,I[e]=Xn(o,n))}return{c(){e=p("div"),n=p("button"),n.textContent="Add note",l=h(),c=p("div"),r=p("button"),r.textContent="Sort",s=h(),i=p("div"),a=p("button"),a.textContent="Newest",u=h(),$=p("button"),$.textContent="Oldest",g=h(),b=p("button"),b.textContent="A → Z",v=h(),y=p("button"),y.textContent="Z → A",_=h(),N=p("div"),S=p("input"),q=h(),A=p("div");for(let t=0;t<I.length;t+=1)I[t].c();w(n,"class","btn btn-light border mb-1 mr-1"),w(r,"class","dropdown-toggle btn btn-light border mb-1"),w(a,"class","dropdown-item"),w($,"class","dropdown-item"),w(b,"class","dropdown-item"),w(y,"class","dropdown-item"),w(i,"class","dropdown-menu"),w(i,"style",C="display: "+("sort"==t[1]?"block":"none")),w(c,"class","dropdown"),w(e,"class","d-flex"),w(S,"class","form-control"),w(S,"placeholder","filter"),w(N,"class","d-flex"),w(A,"class","row mt-2")},m(o,m){d(o,e,m),f(e,n),f(e,l),f(e,c),f(c,r),f(c,s),f(c,i),f(i,a),f(i,u),f(i,$),f(i,g),f(i,b),f(i,v),f(i,y),d(o,_,m),d(o,N,m),f(N,S),k(S,t[0]),d(o,q,m),d(o,A,m);for(let t=0;t<I.length;t+=1)I[t].m(A,null);E=!0,O||(D=[x(n,"click",t[4]),x(r,"blur",t[5]),x(r,"click",t[8]),x(a,"blur",t[5]),x(a,"click",t[9]),x($,"blur",t[5]),x($,"click",t[10]),x(b,"blur",t[5]),x(b,"click",t[11]),x(y,"blur",t[5]),x(y,"click",t[12]),x(S,"input",t[13])],O=!0)},p(t,[e]){(!E||2&e&&C!==(C="display: "+("sort"==t[1]?"block":"none")))&&w(i,"style",C),1&e&&S.value!==t[0]&&k(S,t[0]),13&e&&(L=t[2],F(),I=function(t,e,n,o,l,c,r,s,i,a,u,f){let d=t.length,m=c.length,$=d;const p={};for(;$--;)p[t[$].key]=$;const g=[],h=new Map,b=new Map;for($=m;$--;){const t=f(l,c,$),s=n(t);let i=r.get(s);i?o&&i.p(t,e):(i=a(s,t),i.c()),h.set(s,g[$]=i),s in p&&b.set(s,Math.abs($-p[s]))}const x=new Set,w=new Set;function v(t){H(t,1),t.m(s,u),r.set(t.key,t),u=t.first,m--}for(;d&&m;){const e=g[m-1],n=t[d-1],o=e.key,l=n.key;e===n?(u=e.first,d--,m--):h.has(l)?!r.has(o)||x.has(o)?v(e):w.has(l)?d--:b.get(o)>b.get(l)?(w.add(o),v(e)):(x.add(l),d--):(i(n,r),d--)}for(;d--;){const e=t[d];h.has(e.key)||i(e,r)}for(;m;)v(g[m-1]);return g}(I,e,M,1,t,L,K,A,Z,Xn,null,Yn),G())},i(t){if(!E){for(let t=0;t<L.length;t+=1)H(I[t]);E=!0}},o(t){for(let t=0;t<I.length;t+=1)W(I[t]);E=!1},d(t){t&&m(e),t&&m(_),t&&m(N),t&&m(q),t&&m(A);for(let t=0;t<I.length;t+=1)I[t].d();O=!1,o(D)}}}function eo(t,e,n){let o,{notes:l}=e;const c={delete:t=>{if(!confirm(`Delete ${t.title}?`))return;let e=l.indexOf(t);l.splice(e,1),n(7,l)}};let r="",s="";function i(t){"alpha"==t?l.sort(((t,e)=>t.title.localeCompare(e.title))):"ralpha"==t?l.sort(((t,e)=>e.title.localeCompare(t.title))):"oldest"==t?l.sort(((t,e)=>t.date>e.date)):"newest"==t&&l.sort(((t,e)=>t.date<e.date)),n(7,l)}return t.$$set=t=>{"notes"in t&&n(7,l=t.notes)},t.$$.update=()=>{129&t.$$.dirty&&n(2,o=l.filter((t=>!r||t.title.toLowerCase().includes(r.toLowerCase())||t.content.toLowerCase().includes(r.toLowerCase())))),128&t.$$.dirty&&l.forEach((t=>{t.id||(t.id=crypto.randomUUID())}))},[r,s,o,c,function(){l.splice(0,0,{id:crypto.randomUUID(),title:"New note",date:(new Date).toISOString(),content:"Enter your notes here"}),n(7,l)},function(t){t.relatedTarget?.className.includes("dropdown-item")||n(1,s="")},i,l,()=>n(1,s="sort"),()=>i("newest"),()=>i("oldest"),()=>i("alpha"),()=>i("ralpha"),function(){r=this.value,n(0,r)}]}class no extends ot{constructor(t){super(),nt(this,t,eo,to,c,{notes:7})}}function oo(t){let e;return{c(){e=p("link"),w(e,"rel","stylesheet"),w(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"),w(e,"integrity","sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"),w(e,"crossorigin","anonymous")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function lo(t){let e;return{c(){e=p("link"),w(e,"rel","stylesheet"),w(e,"href","https://cdn.jsdelivr.net/gh/vinorodrigues/bootstrap-dark@0.6.1/dist/bootstrap-dark.min.css")},m(t,n){d(t,e,n)},d(t){t&&m(e)}}}function co(t){let e,n;return e=new Rt({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ro(t){let e,n;return e=new Nn({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function so(t){let e,n;return e=new Ce({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function io(t){let e,n;return e=new Et({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ao(t){let e,n;return e=new Te({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function uo(t){let e,n;return e=new Dn({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function fo(t){let e,n;return e=new Rn({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function mo(t){let e,n;return e=new no({props:{notes:t[0].notes}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.notes=t[0].notes),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function $o(t){let e,n,o,l,c,r,s,i,a,u,$,g,x,v,y,k,C,_,N,S,q,A,E;let O=("dark"==ct?lo:oo)(t);function D(e){t[1](e)}let K={};return void 0!==t[0]&&(K.model=t[0]),l=new en({props:K}),I.push((()=>Q(l,"model",D))),i=new Gt({props:{title:"Bio",open:"open",$$slots:{default:[co]},$$scope:{ctx:t}}}),u=new Gt({props:{title:"Status",open:"open",$$slots:{default:[ro]},$$scope:{ctx:t}}}),g=new Gt({props:{title:"Equipment",$$slots:{default:[so]},$$scope:{ctx:t}}}),v=new Gt({props:{title:"Apps",$$slots:{default:[io]},$$scope:{ctx:t}}}),k=new Gt({props:{title:"Nano",$$slots:{default:[ao]},$$scope:{ctx:t}}}),_=new Gt({props:{title:"Infestations",$$slots:{default:[uo]},$$scope:{ctx:t}}}),S=new Gt({props:{title:"Cybertech",$$slots:{default:[fo]},$$scope:{ctx:t}}}),A=new Gt({props:{title:"Notes",$$slots:{default:[mo]},$$scope:{ctx:t}}}),{c(){O.c(),e=b(),n=h(),o=p("main"),Y(l.$$.fragment),r=h(),s=p("div"),Y(i.$$.fragment),a=h(),Y(u.$$.fragment),$=h(),Y(g.$$.fragment),x=h(),Y(v.$$.fragment),y=h(),Y(k.$$.fragment),C=h(),Y(_.$$.fragment),N=h(),Y(S.$$.fragment),q=h(),Y(A.$$.fragment),w(s,"class","row m-2"),w(o,"id","app")},m(t,c){O.m(document.head,null),f(document.head,e),d(t,n,c),d(t,o,c),X(l,o,null),f(o,r),f(o,s),X(i,s,null),f(s,a),X(u,s,null),f(s,$),X(g,s,null),f(s,x),X(v,s,null),f(s,y),X(k,s,null),f(s,C),X(_,s,null),f(s,N),X(S,s,null),f(s,q),X(A,s,null),E=!0},p(t,[e]){const n={};!c&&1&e&&(c=!0,n.model=t[0],B((()=>c=!1))),l.$set(n);const o={};5&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const r={};5&e&&(r.$$scope={dirty:e,ctx:t}),u.$set(r);const s={};5&e&&(s.$$scope={dirty:e,ctx:t}),g.$set(s);const a={};5&e&&(a.$$scope={dirty:e,ctx:t}),v.$set(a);const f={};5&e&&(f.$$scope={dirty:e,ctx:t}),k.$set(f);const d={};5&e&&(d.$$scope={dirty:e,ctx:t}),_.$set(d);const m={};5&e&&(m.$$scope={dirty:e,ctx:t}),S.$set(m);const $={};5&e&&($.$$scope={dirty:e,ctx:t}),A.$set($)},i(t){E||(H(l.$$.fragment,t),H(i.$$.fragment,t),H(u.$$.fragment,t),H(g.$$.fragment,t),H(v.$$.fragment,t),H(k.$$.fragment,t),H(_.$$.fragment,t),H(S.$$.fragment,t),H(A.$$.fragment,t),E=!0)},o(t){W(l.$$.fragment,t),W(i.$$.fragment,t),W(u.$$.fragment,t),W(g.$$.fragment,t),W(v.$$.fragment,t),W(k.$$.fragment,t),W(_.$$.fragment,t),W(S.$$.fragment,t),W(A.$$.fragment,t),E=!1},d(t){O.d(t),m(e),t&&m(n),t&&m(o),tt(l),tt(i),tt(u),tt(g),tt(v),tt(k),tt(_),tt(S),tt(A)}}}function po(t,e,n){let o=lt();return[o,function(t){o=t,n(0,o)}]}return new class extends ot{constructor(t){super(),nt(this,t,po,$o,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
