var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e,n,o){if(t){const l=s(t,e,n,o);return t[0](l)}}function s(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function i(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}function a(t,e,n,o,l,c){if(l){const r=s(e,n,o,c);t.p(r,l)}}function u(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t){return""===t?null:+t}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function C(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function _(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function N(t){const e=t.querySelector(":checked");return e&&e.__value}function q(t,e,n){t.classList[n?"add":"remove"](e)}let S;function E(t){S=t}function O(){if(!S)throw new Error("Function called outside component initialization");return S}function A(t){O().$$.after_update.push(t)}const D=[],I=[];let K=[];const L=[],z=Promise.resolve();let M=!1;function P(t){K.push(t)}function j(t){L.push(t)}const B=new Set;let U=0;function T(){if(0!==U)return;const t=S;do{try{for(;U<D.length;){const t=D[U];U++,E(t),J(t.$$)}}catch(t){throw D.length=0,U=0,t}for(E(null),D.length=0,U=0;I.length;)I.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];B.has(e)||(B.add(e),e())}K.length=0}while(D.length);for(;L.length;)L.pop()();M=!1,B.clear(),E(t)}function J(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const R=new Set;let V;function F(){V={r:0,c:[],p:V}}function G(){V.r||o(V.c),V=V.p}function H(t,e){t&&t.i&&(R.delete(t),t.i(e))}function W(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),V.c.push((()=>{R.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function Z(t,e){W(t,1,1,(()=>{e.delete(t.key)}))}function Q(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Y(t){t&&t.c()}function X(t,n,c,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(n,c),r||P((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(P)}function tt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];K.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),K=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(D.push(t),M||(M=!0,z.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,l,c,r,s,i,a,u=[-1]){const d=S;E(e);const f=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||d.$$.root};a&&a(f.root);let $=!1;if(f.ctx=c?c(e,l.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](l),$&&et(e,t)),n})):[],f.update(),$=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();l.intro&&H(e.$$.fragment),X(e,l.target,l.anchor,l.customElement),T()}E(d)}class ot{$destroy(){tt(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const lt=()=>({name:"",glitches:{die:"d2",current:0},hp:{current:0,max:0},abilities:{strength:0,agility:0,presence:0,toughness:0,knowledge:0},creds:0,debt:0,className:"",apps:[],nano:[],infestations:[],armor:"None",armorValue:"-",weapons:[],equipment:[],cybertech:[],info:"",notes:[]}),ct=new URLSearchParams(window.location.search).get("theme")??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");function rt(t,e,n){const o=t.slice();return o[15]=e[n],o[17]=n,o}function st(t){let e,n,o,l,c,s;const d=t[10].default,$=r(d,t,t[9],null);function g(t,e){return 0==t[1].length?ut:at}let b=g(t),w=b(t);return{c(){e=p("span"),$&&$.c(),n=h(),o=p("button"),w.c(),v(e,"class","py-2 font-weight-bold"),v(o,"class","btn btn-light border text-left align-top wrap w-100"),C(o,"min-height","2.5em")},m(r,i){f(r,e,i),$&&$.m(e,null),f(r,n,i),f(r,o,i),w.m(o,null),l=!0,c||(s=x(o,"click",t[14]),c=!0)},p(t,e){$&&$.p&&(!l||512&e)&&a($,d,t,t[9],l?i(d,t[9],e,null):u(t[9]),null),b===(b=g(t))&&w?w.p(t,e):(w.d(1),w=b(t),w&&(w.c(),w.m(o,null)))},i(t){l||(H($,t),l=!0)},o(t){W($,t),l=!1},d(t){t&&m(e),$&&$.d(t),t&&m(n),t&&m(o),w.d(),c=!1,s()}}}function it(t){let e,n,l,c,s,d;const $=t[10].default,g=r($,t,t[9],null);return{c(){e=p("span"),g&&g.c(),n=h(),l=p("textarea"),v(e,"class","py-2 font-weight-bold"),v(l,"class","flex-grow-1 form-control")},m(o,r){f(o,e,r),g&&g.m(e,null),f(o,n,r),f(o,l,r),t[11](l),k(l,t[0]),c=!0,s||(d=[x(l,"input",t[12]),x(l,"blur",t[13]),x(l,"focus",t[6]),x(l,"keyup",t[6])],s=!0)},p(t,e){g&&g.p&&(!c||512&e)&&a(g,$,t,t[9],c?i($,t[9],e,null):u(t[9]),null),1&e&&k(l,t[0])},i(t){c||(H(g,t),c=!0)},o(t){W(g,t),c=!1},d(c){c&&m(e),g&&g.d(c),c&&m(n),c&&m(l),t[11](null),s=!1,o(d)}}}function at(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=mt(rt(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);f(t,e,n)},p(t,l){if(51&l){let c;for(n=t[1],c=0;c<n.length;c+=1){const r=rt(t,n,c);o[c]?o[c].p(r,l):(o[c]=mt(r),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){$(o,t),t&&m(e)}}}function ut(t){let e;return{c(){e=g(t[0])},m(t,n){f(t,e,n)},p(t,n){1&n&&y(e,t[0])},d(t){t&&m(e)}}}function dt(t){let e;return{c(){e=g(t[4])},m(t,n){f(t,e,n)},p(t,n){16&n&&y(e,t[4])},d(t){t&&m(e)}}}function ft(t){let e,n=t[0].substring(t[15].index+t[15][0].length,t[1][t[17]+1].index)+"";return{c(){e=g(n)},m(t,n){f(t,e,n)},p(t,o){3&o&&n!==(n=t[0].substring(t[15].index+t[15][0].length,t[1][t[17]+1].index)+"")&&y(e,n)},d(t){t&&m(e)}}}function mt(t){let e,n,o,l=t[15][0]+"",c=0==t[17]&&function(t){let e;return{c(){e=g(t[5])},m(t,n){f(t,e,n)},p(t,n){32&n&&y(e,t[5])},d(t){t&&m(e)}}}(t);function r(t,e){return t[17]<t[1].length-1?ft:dt}let s=r(t),i=s(t);return{c(){c&&c.c(),e=p("span"),n=g(l),i.c(),o=b(),v(e,"class","bg-info")},m(t,l){c&&c.m(t,l),f(t,e,l),d(e,n),i.m(t,l),f(t,o,l)},p(t,e){0==t[17]&&c.p(t,e),2&e&&l!==(l=t[15][0]+"")&&y(n,l),s===(s=r(t))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),i.m(o.parentNode,o)))},d(t){c&&c.d(t),t&&m(e),i.d(t),t&&m(o)}}}function $t(t){let e,n,o,l;const c=[it,st],r=[];function s(t,e){return t[2]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){r[e].m(t,n),f(t,o,n),l=!0},p(t,[l]){let i=e;e=s(t),e===i?r[e].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),n=r[e],n?n.p(t,l):(n=r[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){l||(H(n),l=!0)},o(t){W(n),l=!1},d(t){r[e].d(t),t&&m(o)}}}function pt(t,e,n){let o,l,c,r,s,{$$slots:i={},$$scope:a}=e,{content:u=""}=e,{highlight:d=""}=e,f=!1;A((()=>{f&&s.focus()}));return t.$$set=t=>{"content"in t&&n(0,u=t.content),"highlight"in t&&n(7,d=t.highlight),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&n(8,o=new RegExp(d,"gi")),257&t.$$.dirty&&n(1,l=[...u.matchAll(o)]),3&t.$$.dirty&&n(5,c=0==l.length?"":u.substring(0,l[0].index)),3&t.$$.dirty&&n(4,r=0==l.length?"":u.substring(l[l.length-1].index+l[l.length-1][0].length))},[u,l,f,s,r,c,function(){s&&n(3,s.style.height=`${s.scrollHeight+2}px`,s)},d,o,a,i,function(t){I[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(){u=this.value,n(0,u)},()=>n(2,f=!1),()=>n(2,f=!0)]}class gt extends ot{constructor(t){super(),nt(this,t,pt,$t,c,{content:0,highlight:7})}}function ht(e){let n,o,l,c,r=e[0].name+"";return{c(){n=p("button"),o=g(r),v(n,"class","btn btn-light border text-left flex-grow-1")},m(t,r){f(t,n,r),d(n,o),l||(c=x(n,"click",e[5]),l=!0)},p(t,e){1&e&&r!==(r=t[0].name+"")&&y(o,r)},i:t,o:t,d(t){t&&m(n),l=!1,c()}}}function bt(t){let e,n,l,c,r,s,i,a,u,$,g;function b(e){t[4](e)}let w={};return void 0!==t[0].description&&(w.content=t[0].description),i=new gt({props:w}),I.push((()=>Q(i,"content",b))),{c(){e=p("div"),n=p("input"),l=h(),c=p("button"),c.textContent="Close",r=h(),s=p("div"),Y(i.$$.fragment),v(n,"class","flex-grow-1 form-control"),v(c,"class","btn btn-light border"),v(e,"class","d-flex flex-grow-1"),v(s,"class","d-flex")},m(o,a){f(o,e,a),d(e,n),k(n,t[0].name),d(e,l),d(e,c),f(o,r,a),f(o,s,a),X(i,s,null),u=!0,$||(g=[x(n,"input",t[2]),x(c,"click",t[3])],$=!0)},p(t,e){1&e&&n.value!==t[0].name&&k(n,t[0].name);const o={};!a&&1&e&&(a=!0,o.content=t[0].description,j((()=>a=!1))),i.$set(o)},i(t){u||(H(i.$$.fragment,t),u=!0)},o(t){W(i.$$.fragment,t),u=!1},d(t){t&&m(e),t&&m(r),t&&m(s),tt(i),$=!1,o(g)}}}function xt(t){let e,n,o,l;const c=[bt,ht],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),v(e,"class","d-flex flex-column flex-grow-1")},m(t,o){f(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function vt(t,e,n){let o,{app:l}=e;return t.$$set=t=>{"app"in t&&n(0,l=t.app)},[l,o,function(){l.name=this.value,n(0,l)},()=>n(1,o=!1),function(e){t.$$.not_equal(l.description,e)&&(l.description=e,n(0,l))},()=>n(1,o=!0)]}class wt extends ot{constructor(t){super(),nt(this,t,vt,xt,c,{app:0})}}function yt(t){let e,n,l,c,s,$,g,b,w,y,k,C,_;const N=t[4].default,q=r(N,t,t[3],null);return{c(){e=p("div"),n=p("div"),q&&q.c(),l=h(),c=p("div"),s=p("div"),$=p("button"),$.textContent="↑",g=h(),b=p("button"),b.textContent="↓",w=h(),y=p("button"),y.textContent="Delete",v(n,"class","flex-grow-1 d-flex mr-1"),v($,"class","btn btn-light border-dark"),v(b,"class","btn btn-light border-dark"),v(s,"class","btn-group"),v(y,"class","btn btn-danger"),v(c,"class","align-self-start ml-auto"),v(e,"class","d-flex m-1 align-self-start")},m(o,r){f(o,e,r),d(e,n),q&&q.m(n,null),d(e,l),d(e,c),d(c,s),d(s,$),d(s,g),d(s,b),d(c,w),d(c,y),k=!0,C||(_=[x($,"click",t[5]),x(b,"click",t[6]),x(y,"click",t[7])],C=!0)},p(t,[e]){q&&q.p&&(!k||8&e)&&a(q,N,t,t[3],k?i(N,t[3],e,null):u(t[3]),null)},i(t){k||(H(q,t),k=!0)},o(t){W(q,t),k=!1},d(t){t&&m(e),q&&q.d(t),C=!1,o(_)}}}function kt(t,e,n){let{$$slots:o={},$$scope:l}=e,{move:c}=e,{remove:r}=e,{item:s}=e;return t.$$set=t=>{"move"in t&&n(0,c=t.move),"remove"in t&&n(1,r=t.remove),"item"in t&&n(2,s=t.item),"$$scope"in t&&n(3,l=t.$$scope)},[c,r,s,l,o,()=>c(-1,s),()=>c(1,s),()=>r(s)]}class Ct extends ot{constructor(t){super(),nt(this,t,kt,yt,c,{move:0,remove:1,item:2})}}function _t(t,e,n){const o=t.slice();return o[4]=e[n],o}function Nt(t){let e,n,o;return e=new wt({props:{app:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),f(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.app=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function qt(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function St(t){let e,n,o,l,c,r,s=t[0].apps,i=[];for(let e=0;e<s.length;e+=1)i[e]=qt(_t(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),v(e,"class","btn btn-dark")},m(s,a){f(s,e,a),f(s,n,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(s,a);f(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].apps,n=0;n<s.length;n+=1){const l=_t(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=qt(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function Et(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.apps.push({name:"App",description:""}),n(0,o)},function(t,e){let l=o.apps.indexOf(e);o.apps.splice(l,1),l+=t,l<0?l=o.apps.length:l>o.apps.length&&(l=0),o.apps.splice(l,0,e),n(0,o)},function(t){let e=o.apps.indexOf(t);o.apps.splice(e,1),n(0,o)}]}class Ot extends ot{constructor(t){super(),nt(this,t,Et,St,c,{model:0})}}function At(t){let e,n,o,l,c,s,$,b;const w=t[4].default,k=r(w,t,t[3],null);return{c(){e=p("div"),n=p("span"),k&&k.c(),o=h(),l=p("button"),c=g(t[0]),v(n,"class","align-self-center text-right border-right pr-1 py-2 font-weight-bold"),C(n,"width","5.5em"),v(l,"class","flex-grow-1 btn btn-light text-left"),v(e,"class","d-flex mb-1 border-bottom")},m(r,i){f(r,e,i),d(e,n),k&&k.m(n,null),d(e,o),d(e,l),d(l,c),s=!0,$||(b=x(l,"click",t[8]),$=!0)},p(t,e){k&&k.p&&(!s||8&e)&&a(k,w,t,t[3],s?i(w,t[3],e,null):u(t[3]),null),(!s||1&e)&&y(c,t[0])},i(t){s||(H(k,t),s=!0)},o(t){W(k,t),s=!1},d(t){t&&m(e),k&&k.d(t),$=!1,b()}}}function Dt(t){let e,n,l,c,s,$,g;const b=t[4].default,w=r(b,t,t[3],null);return{c(){e=p("div"),n=p("span"),w&&w.c(),l=h(),c=p("input"),v(n,"class","align-self-center text-right mr-1 py-2 font-weight-bold"),C(n,"width","5.5em"),C(n,"height","2.5em"),v(c,"class","flex-grow-1 form-control"),v(e,"class","d-flex mb-1 border-bottom")},m(o,r){f(o,e,r),d(e,n),w&&w.m(n,null),d(e,l),d(e,c),t[5](c),k(c,t[0]),s=!0,$||(g=[x(c,"input",t[6]),x(c,"blur",t[7])],$=!0)},p(t,e){w&&w.p&&(!s||8&e)&&a(w,b,t,t[3],s?i(b,t[3],e,null):u(t[3]),null),1&e&&c.value!==t[0]&&k(c,t[0])},i(t){s||(H(w,t),s=!0)},o(t){W(w,t),s=!1},d(n){n&&m(e),w&&w.d(n),t[5](null),$=!1,o(g)}}}function It(t){let e,n,o,l;const c=[Dt,At],r=[];function s(t,e){return t[1]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){r[e].m(t,n),f(t,o,n),l=!0},p(t,[l]){let i=e;e=s(t),e===i?r[e].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),n=r[e],n?n.p(t,l):(n=r[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){l||(H(n),l=!0)},o(t){W(n),l=!1},d(t){r[e].d(t),t&&m(o)}}}function Kt(t,e,n){let o,{$$slots:l={},$$scope:c}=e,{content:r=""}=e,s=!1;A((()=>{s&&o.focus()}));return t.$$set=t=>{"content"in t&&n(0,r=t.content),"$$scope"in t&&n(3,c=t.$$scope)},[r,s,o,c,l,function(t){I[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(){r=this.value,n(0,r)},()=>n(1,s=!1),()=>n(1,s=!0)]}class Lt extends ot{constructor(t){super(),nt(this,t,Kt,It,c,{content:0})}}function zt(t){let e;return{c(){e=g("Name")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function Mt(t){let e;return{c(){e=g("Class")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function Pt(t){let e;return{c(){e=g("Credits")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function jt(t){let e;return{c(){e=g("Debt")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function Bt(t){let e;return{c(){e=g("Info")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function Ut(t){let e,n,o,l,c,r,s,i,a,u,d,$,g,b,x,v,w;function y(e){t[1](e)}let k={$$slots:{default:[zt]},$$scope:{ctx:t}};function C(e){t[2](e)}void 0!==t[0].name&&(k.content=t[0].name),e=new Lt({props:k}),I.push((()=>Q(e,"content",y)));let _={$$slots:{default:[Mt]},$$scope:{ctx:t}};function N(e){t[3](e)}void 0!==t[0].className&&(_.content=t[0].className),l=new Lt({props:_}),I.push((()=>Q(l,"content",C)));let q={$$slots:{default:[Pt]},$$scope:{ctx:t}};function S(e){t[4](e)}void 0!==t[0].creds&&(q.content=t[0].creds),s=new Lt({props:q}),I.push((()=>Q(s,"content",N)));let E={$$slots:{default:[jt]},$$scope:{ctx:t}};function O(e){t[5](e)}void 0!==t[0].debt&&(E.content=t[0].debt),u=new Lt({props:E}),I.push((()=>Q(u,"content",S)));let A={$$slots:{default:[Bt]},$$scope:{ctx:t}};return void 0!==t[0].info&&(A.content=t[0].info),x=new gt({props:A}),I.push((()=>Q(x,"content",O))),{c(){Y(e.$$.fragment),o=h(),Y(l.$$.fragment),r=h(),Y(s.$$.fragment),a=h(),Y(u.$$.fragment),$=h(),g=p("hr"),b=h(),Y(x.$$.fragment)},m(t,n){X(e,t,n),f(t,o,n),X(l,t,n),f(t,r,n),X(s,t,n),f(t,a,n),X(u,t,n),f(t,$,n),f(t,g,n),f(t,b,n),X(x,t,n),w=!0},p(t,[o]){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,r.content=t[0].name,j((()=>n=!1))),e.$set(r);const a={};64&o&&(a.$$scope={dirty:o,ctx:t}),!c&&1&o&&(c=!0,a.content=t[0].className,j((()=>c=!1))),l.$set(a);const f={};64&o&&(f.$$scope={dirty:o,ctx:t}),!i&&1&o&&(i=!0,f.content=t[0].creds,j((()=>i=!1))),s.$set(f);const m={};64&o&&(m.$$scope={dirty:o,ctx:t}),!d&&1&o&&(d=!0,m.content=t[0].debt,j((()=>d=!1))),u.$set(m);const $={};64&o&&($.$$scope={dirty:o,ctx:t}),!v&&1&o&&(v=!0,$.content=t[0].info,j((()=>v=!1))),x.$set($)},i(t){w||(H(e.$$.fragment,t),H(l.$$.fragment,t),H(s.$$.fragment,t),H(u.$$.fragment,t),H(x.$$.fragment,t),w=!0)},o(t){W(e.$$.fragment,t),W(l.$$.fragment,t),W(s.$$.fragment,t),W(u.$$.fragment,t),W(x.$$.fragment,t),w=!1},d(t){tt(e,t),t&&m(o),tt(l,t),t&&m(r),tt(s,t),t&&m(a),tt(u,t),t&&m($),t&&m(g),t&&m(b),tt(x,t)}}}function Tt(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(e){t.$$.not_equal(o.name,e)&&(o.name=e,n(0,o))},function(e){t.$$.not_equal(o.className,e)&&(o.className=e,n(0,o))},function(e){t.$$.not_equal(o.creds,e)&&(o.creds=e,n(0,o))},function(e){t.$$.not_equal(o.debt,e)&&(o.debt=e,n(0,o))},function(e){t.$$.not_equal(o.info,e)&&(o.info=e,n(0,o))}]}class Jt extends ot{constructor(t){super(),nt(this,t,Tt,Ut,c,{model:0})}}function Rt(t){let e,n,o,l;const c=t[3].default,s=r(c,t,t[2],null);return{c(){e=p("div"),n=p("div"),o=p("div"),s&&s.c(),v(o,"class","card-body"),v(n,"class","card"),v(e,"class","container-fluid m-0 p-0")},m(t,c){f(t,e,c),d(e,n),d(n,o),s&&s.m(o,null),l=!0},p(t,e){s&&s.p&&(!l||4&e)&&a(s,c,t,t[2],l?i(c,t[2],e,null):u(t[2]),null)},i(t){l||(H(s,t),l=!0)},o(t){W(s,t),l=!1},d(t){t&&m(e),s&&s.d(t)}}}function Vt(t){let e,n,o,l,c,r,s,i=t[0]&&Rt(t);return{c(){e=p("div"),n=p("button"),o=g(t[1]),l=h(),i&&i.c(),v(n,"class","btn btn-light border w-100 text-left align-top"),v(e,"class","col-lg-6 col-12 p-1")},m(a,u){f(a,e,u),d(e,n),d(n,o),d(e,l),i&&i.m(e,null),c=!0,r||(s=x(n,"click",t[4]),r=!0)},p(t,[n]){(!c||2&n)&&y(o,t[1]),t[0]?i?(i.p(t,n),1&n&&H(i,1)):(i=Rt(t),i.c(),H(i,1),i.m(e,null)):i&&(F(),W(i,1,1,(()=>{i=null})),G())},i(t){c||(H(i),c=!0)},o(t){W(i),c=!1},d(t){t&&m(e),i&&i.d(),r=!1,s()}}}function Ft(t,e,n){let{$$slots:o={},$$scope:l}=e,{title:c}=e,{open:r=!1}=e;return t.$$set=t=>{"title"in t&&n(1,c=t.title),"open"in t&&n(0,r=t.open),"$$scope"in t&&n(2,l=t.$$scope)},[r,c,l,o,()=>n(0,r=!r)]}class Gt extends ot{constructor(t){super(),nt(this,t,Ft,Vt,c,{title:1,open:0})}}function Ht(t,e,n){const o=t.slice();return o[8]=e[n],o}function Wt(t){let e,n,l,c,r,s,i,a=t[0].armor+"",u=t[0].armorValue+"";return{c(){e=p("button"),n=g(a),l=h(),c=p("button"),r=g(u),v(e,"class","btn btn-light border text-left flex-grow-1"),v(c,"class","btn btn-light border text-left ml-1")},m(o,a){f(o,e,a),d(e,n),f(o,l,a),f(o,c,a),d(c,r),s||(i=[x(e,"click",t[6]),x(c,"click",t[7])],s=!0)},p(t,e){1&e&&a!==(a=t[0].armor+"")&&y(n,a),1&e&&u!==(u=t[0].armorValue+"")&&y(r,u)},d(t){t&&m(e),t&&m(l),t&&m(c),s=!1,o(i)}}}function Zt(t){let e,n,l,c,r,s,i,a,u=t[2],g=[];for(let e=0;e<u.length;e+=1)g[e]=Qt(Ht(t,u,e));return{c(){e=p("input"),n=h(),l=p("div"),c=p("select");for(let t=0;t<g.length;t+=1)g[t].c();r=h(),s=p("button"),s.textContent="Done",v(e,"class","form-control flex-grow-1"),v(c,"class","form-control"),void 0===t[0].armorValue&&P((()=>t[4].call(c))),v(l,"class","pl-1 pr-1"),v(s,"class","btn btn-light ml-1 border-dark")},m(o,u){f(o,e,u),k(e,t[0].armor),f(o,n,u),f(o,l,u),d(l,c);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(c,null);_(c,t[0].armorValue,!0),f(o,r,u),f(o,s,u),i||(a=[x(e,"input",t[3]),x(c,"change",t[4]),x(s,"click",t[5])],i=!0)},p(t,n){if(5&n&&e.value!==t[0].armor&&k(e,t[0].armor),4&n){let e;for(u=t[2],e=0;e<u.length;e+=1){const o=Ht(t,u,e);g[e]?g[e].p(o,n):(g[e]=Qt(o),g[e].c(),g[e].m(c,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=u.length}5&n&&_(c,t[0].armorValue)},d(t){t&&m(e),t&&m(n),t&&m(l),$(g,t),t&&m(r),t&&m(s),i=!1,o(a)}}}function Qt(e){let n,o,l=e[8]+"";return{c(){n=p("option"),o=g(l),n.__value=e[8],n.value=n.__value},m(t,e){f(t,n,e),d(n,o)},p:t,d(t){t&&m(n)}}}function Yt(e){let n,o,l;function c(t,e){return t[1]?Zt:Wt}let r=c(e),s=r(e);return{c(){n=p("span"),n.textContent="Armor",o=h(),l=p("div"),s.c(),v(l,"class","d-flex mb-1")},m(t,e){f(t,n,e),f(t,o,e),f(t,l,e),s.m(l,null)},p(t,[e]){r===(r=c(t))&&s?s.p(t,e):(s.d(1),s=r(t),s&&(s.c(),s.m(l,null)))},i:t,o:t,d(t){t&&m(n),t&&m(o),t&&m(l),s.d()}}}function Xt(t,e,n){let{model:o}=e;const l=["-","-d2","-d4","-d6","-d8"];let c;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,c,l,function(){o.armor=this.value,n(0,o),n(2,l)},function(){o.armorValue=N(this),n(0,o),n(2,l)},()=>n(1,c=!1),()=>n(1,c=!0),()=>n(1,c=!0)]}class te extends ot{constructor(t){super(),nt(this,t,Xt,Yt,c,{model:0})}}function ee(t){let e,n,l,c,r,s,i,a=t[0].name+"",u=t[0].size+"";return{c(){e=p("button"),n=g(a),l=h(),c=p("button"),r=g(u),v(e,"class","btn btn-light border text-left flex-grow-1"),v(c,"class","btn btn-dark border ml-1")},m(o,a){f(o,e,a),d(e,n),f(o,l,a),f(o,c,a),d(c,r),s||(i=[x(e,"click",t[6]),x(c,"click",t[7])],s=!0)},p(t,e){1&e&&a!==(a=t[0].name+"")&&y(n,a),1&e&&u!==(u=t[0].size+"")&&y(r,u)},d(t){t&&m(e),t&&m(l),t&&m(c),s=!1,o(i)}}}function ne(t){let e,n,l,c,r,s,i,a;return{c(){e=p("input"),n=h(),l=p("div"),c=p("input"),r=h(),s=p("button"),s.textContent="Close",v(e,"class","form-control flex-grow-1"),v(c,"class","form-control ml-1"),v(c,"type","number"),v(c,"min","0"),v(s,"class","btn btn-light border-dark ml-1")},m(o,u){f(o,e,u),k(e,t[0].name),f(o,n,u),f(o,l,u),d(l,c),k(c,t[0].size),f(o,r,u),f(o,s,u),i||(a=[x(e,"input",t[3]),x(c,"input",t[4]),x(s,"click",t[5])],i=!0)},p(t,n){1&n&&e.value!==t[0].name&&k(e,t[0].name),1&n&&w(c.value)!==t[0].size&&k(c,t[0].size)},d(t){t&&m(e),t&&m(n),t&&m(l),t&&m(r),t&&m(s),i=!1,o(a)}}}function oe(e){let n;function o(t,e){return t[1]?ne:ee}let l=o(e),c=l(e);return{c(){c.c(),n=b()},m(t,e){c.m(t,e),f(t,n,e)},p(t,[e]){l===(l=o(t))&&c?c.p(t,e):(c.d(1),c=l(t),c&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&m(n)}}}function le(t,e,n){let{item:o}=e,{isEditing:l}=e,{update:c}=e;return t.$$set=t=>{"item"in t&&n(0,o=t.item),"isEditing"in t&&n(1,l=t.isEditing),"update"in t&&n(2,c=t.update)},[o,l,c,function(){o.name=this.value,n(0,o)},function(){o.size=w(this.value),n(0,o)},()=>{n(1,l=!1),c()},()=>n(1,l=!0),()=>n(1,l=!0)]}class ce extends ot{constructor(t){super(),nt(this,t,le,oe,c,{item:0,isEditing:1,update:2})}}var re={move:(t,e,n)=>{let o=t.indexOf(n);t.splice(o,1),o+=e,o<0?o=t.length:o>t.length&&(o=0),t.splice(o,0,n)},remove:(t,e)=>{let n=t.indexOf(e);t.splice(n,1)}};function se(t,e,n){const o=t.slice();return o[6]=e[n],o[7]=e,o[8]=n,o}function ie(t){let e,n,o,l;function c(e){t[5](e,t[6],t[7],t[8])}let r={update:t[1]};return void 0!==t[6]&&(r.item=t[6]),e=new ce({props:r}),I.push((()=>Q(e,"item",c))),{c(){Y(e.$$.fragment),o=h()},m(t,n){X(e,t,n),f(t,o,n),l=!0},p(o,l){t=o;const c={};2&l&&(c.update=t[1]),!n&&1&l&&(n=!0,c.item=t[6],j((()=>n=!1))),e.$set(c)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){tt(e,t),t&&m(o)}}}function ae(t){let e,n;return e=new Ct({props:{item:t[6],move:t[3],remove:t[4],$$slots:{default:[ie]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[6]),515&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ue(t){let e,n,o,l,c,r,s,i,a,u=t[0].equipment,g=[];for(let e=0;e<u.length;e+=1)g[e]=ae(se(t,u,e));const w=t=>W(g[t],1,1,(()=>{g[t]=null}));return{c(){e=p("div"),n=p("span"),n.textContent="Equipment",o=h(),l=p("button"),l.textContent="Add",c=h();for(let t=0;t<g.length;t+=1)g[t].c();r=b(),v(l,"class","ml-auto btn btn-dark"),v(e,"class","d-flex align-items-end")},m(u,m){f(u,e,m),d(e,n),d(e,o),d(e,l),f(u,c,m);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(u,m);f(u,r,m),s=!0,i||(a=x(l,"click",t[2]),i=!0)},p(t,[e]){if(27&e){let n;for(u=t[0].equipment,n=0;n<u.length;n+=1){const o=se(t,u,n);g[n]?(g[n].p(o,e),H(g[n],1)):(g[n]=ae(o),g[n].c(),H(g[n],1),g[n].m(r.parentNode,r))}for(F(),n=u.length;n<g.length;n+=1)w(n);G()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)H(g[t]);s=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)W(g[t]);s=!1},d(t){t&&m(e),t&&m(c),$(g,t),t&&m(r),i=!1,a()}}}function de(t,e,n){let{model:o}=e,{update:l}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model),"update"in t&&n(1,l=t.update)},[o,l,function(){o.equipment.push({name:"",size:1}),n(0,o),l()},function(t,e){re.move(o.equipment,t,e),n(0,o)},function(t){re.remove(o.equipment,t),n(0,o),l()},function(t,e,l,c){l[c]=t,n(0,o)}]}class fe extends ot{constructor(t){super(),nt(this,t,de,ue,c,{model:0,update:1})}}function me(t,e,n){const o=t.slice();return o[11]=e[n],o}function $e(t){let e,n,o,l,c=t[0].name+"";return{c(){e=p("button"),n=g(c),v(e,"class","flex-grow-1 btn btn-light text-left border")},m(c,r){f(c,e,r),d(e,n),o||(l=x(e,"click",t[6]),o=!0)},p(t,e){1&e&&c!==(c=t[0].name+"")&&y(n,c)},d(t){t&&m(e),o=!1,l()}}}function pe(t){let e,n,l,c,r;return{c(){e=p("input"),n=h(),l=p("button"),l.textContent="Close",v(e,"class","form-control flex-grow-1"),v(l,"class","btn btn-light border-dark ml-auto")},m(o,s){f(o,e,s),k(e,t[0].name),f(o,n,s),f(o,l,s),c||(r=[x(e,"input",t[4]),x(l,"click",t[5])],c=!0)},p(t,n){5&n&&e.value!==t[0].name&&k(e,t[0].name)},d(t){t&&m(e),t&&m(n),t&&m(l),c=!1,o(r)}}}function ge(t){let e,n,o,l,c,r,s,i=t[0].damage+"",a=!t[0].melee&&be(t),u=t[0].automatic&&!t[0].melee&&xe(),$=t[0].melee&&ve();return{c(){a&&a.c(),e=h(),n=p("span"),o=g(i),l=g(" damage"),c=h(),u&&u.c(),r=h(),$&&$.c(),s=b(),v(n,"class","btn btn-dark badge ml-1")},m(t,i){a&&a.m(t,i),f(t,e,i),f(t,n,i),d(n,o),d(n,l),f(t,c,i),u&&u.m(t,i),f(t,r,i),$&&$.m(t,i),f(t,s,i)},p(t,n){t[0].melee?a&&(a.d(1),a=null):a?a.p(t,n):(a=be(t),a.c(),a.m(e.parentNode,e)),1&n&&i!==(i=t[0].damage+"")&&y(o,i),t[0].automatic&&!t[0].melee?u||(u=xe(),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),t[0].melee?$||($=ve(),$.c(),$.m(s.parentNode,s)):$&&($.d(1),$=null)},d(t){a&&a.d(t),t&&m(e),t&&m(n),t&&m(c),u&&u.d(t),t&&m(r),$&&$.d(t),t&&m(s)}}}function he(t){let e,n,l,c,r,s,i,a,u,g,b,y,C,N,q,S,E,O,A,D=t[2],I=[];for(let e=0;e<D.length;e+=1)I[e]=we(me(t,D,e));return{c(){e=p("div"),n=p("input"),l=h(),c=p("div"),r=p("select");for(let t=0;t<I.length;t+=1)I[t].c();s=h(),i=p("div"),a=p("label"),u=p("input"),g=h(),b=p("span"),b.textContent="Auto",y=h(),C=p("div"),N=p("label"),q=p("input"),S=h(),E=p("span"),E.textContent="Melee",v(n,"type","number"),v(n,"min",0),v(n,"class","form-control"),v(e,"class","border-right d-flex"),v(r,"class","form-control"),void 0===t[0].damage&&P((()=>t[8].call(r))),v(c,"class","border-right d-flex ml-1"),v(u,"type","checkbox"),v(b,"class","ml-1 mr-1"),v(a,"class","align-self-center d-flex align-items-center m-0"),v(i,"class","border-right d-flex ml-1"),v(q,"type","checkbox"),v(E,"class","ml-1 mr-1"),v(N,"class","align-self-center d-flex align-items-center m-0"),v(C,"class","d-flex ml-1")},m(o,m){f(o,e,m),d(e,n),k(n,t[0].mags),f(o,l,m),f(o,c,m),d(c,r);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(r,null);_(r,t[0].damage,!0),f(o,s,m),f(o,i,m),d(i,a),d(a,u),u.checked=t[0].automatic,d(a,g),d(a,b),f(o,y,m),f(o,C,m),d(C,N),d(N,q),q.checked=t[0].melee,d(N,S),d(N,E),O||(A=[x(n,"input",t[7]),x(r,"change",t[8]),x(u,"change",t[9]),x(q,"change",t[10])],O=!0)},p(t,e){if(5&e&&w(n.value)!==t[0].mags&&k(n,t[0].mags),4&e){let n;for(D=t[2],n=0;n<D.length;n+=1){const o=me(t,D,n);I[n]?I[n].p(o,e):(I[n]=we(o),I[n].c(),I[n].m(r,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=D.length}5&e&&_(r,t[0].damage),5&e&&(u.checked=t[0].automatic),5&e&&(q.checked=t[0].melee)},d(t){t&&m(e),t&&m(l),t&&m(c),$(I,t),t&&m(s),t&&m(i),t&&m(y),t&&m(C),O=!1,o(A)}}}function be(t){let e,n,o,l,c,r=t[0].mags+"";return{c(){e=p("button"),n=g(r),o=g(" mags"),v(e,"class","btn btn-dark badge")},m(r,s){f(r,e,s),d(e,n),d(e,o),l||(c=x(e,"click",t[3]),l=!0)},p(t,e){1&e&&r!==(r=t[0].mags+"")&&y(n,r)},d(t){t&&m(e),l=!1,c()}}}function xe(t){let e;return{c(){e=p("span"),e.textContent="auto",v(e,"class","btn btn-dark badge ml-1")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function ve(t){let e;return{c(){e=p("span"),e.textContent="melee",v(e,"class","btn btn-dark badge ml-1")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function we(e){let n,o,l=e[11]+"";return{c(){n=p("option"),o=g(l),n.__value=e[11],n.value=n.__value},m(t,e){f(t,n,e),d(n,o)},p:t,d(t){t&&m(n)}}}function ye(e){let n,o,l,c;function r(t,e){return t[1]?pe:$e}let s=r(e),i=s(e);function a(t,e){return t[1]?he:ge}let u=a(e),$=u(e);return{c(){n=p("div"),o=p("div"),i.c(),l=h(),c=p("div"),$.c(),v(o,"class","d-flex"),v(c,"class","d-flex mt-1"),v(n,"class","d-flex flex-column flex-grow-1")},m(t,e){f(t,n,e),d(n,o),i.m(o,null),d(n,l),d(n,c),$.m(c,null)},p(t,[e]){s===(s=r(t))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),i.m(o,null))),u===(u=a(t))&&$?$.p(t,e):($.d(1),$=u(t),$&&($.c(),$.m(c,null)))},i:t,o:t,d(t){t&&m(n),i.d(),$.d()}}}function ke(t,e,n){let{weapon:o}=e;const l=["1","d2","d3","d4","d6","d8","d10","d12"];let c=!1;o.name||(o.name="New Weapon"),null==o.mags&&(o.mags=0);return t.$$set=t=>{"weapon"in t&&n(0,o=t.weapon)},[o,c,l,function(t){let e=t.shiftKey?1:-1;n(0,o.mags+=e,o),o.mags<0&&n(0,o.mags=0,o)},function(){o.name=this.value,n(0,o),n(2,l)},()=>n(1,c=!1),()=>n(1,c=!0),function(){o.mags=w(this.value),n(0,o),n(2,l)},function(){o.damage=N(this),n(0,o),n(2,l)},function(){o.automatic=this.checked,n(0,o),n(2,l)},function(){o.melee=this.checked,n(0,o),n(2,l)}]}class Ce extends ot{constructor(t){super(),nt(this,t,ke,ye,c,{weapon:0})}}function _e(t,e,n){const o=t.slice();return o[5]=e[n],o}function Ne(t){let e,n,o;return e=new Ce({props:{weapon:t[5]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),f(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.weapon=t[5]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function qe(t){let e,n;return e=new Ct({props:{item:t[5],move:t[2],remove:t[3],$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[5]),257&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Se(t){let e,n,o,l,c,r,s,i,a,u=t[0].weapons,g=[];for(let e=0;e<u.length;e+=1)g[e]=qe(_e(t,u,e));const w=t=>W(g[t],1,1,(()=>{g[t]=null}));return{c(){e=p("div"),n=p("span"),n.textContent="Weapons",o=h(),l=p("button"),l.textContent="Add",c=h();for(let t=0;t<g.length;t+=1)g[t].c();r=b(),v(l,"class","ml-auto btn btn-dark"),v(e,"class","d-flex align-items-end")},m(u,m){f(u,e,m),d(e,n),d(e,o),d(e,l),f(u,c,m);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(u,m);f(u,r,m),s=!0,i||(a=x(l,"click",t[1]),i=!0)},p(t,[e]){if(13&e){let n;for(u=t[0].weapons,n=0;n<u.length;n+=1){const o=_e(t,u,n);g[n]?(g[n].p(o,e),H(g[n],1)):(g[n]=qe(o),g[n].c(),H(g[n],1),g[n].m(r.parentNode,r))}for(F(),n=u.length;n<g.length;n+=1)w(n);G()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)H(g[t]);s=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)W(g[t]);s=!1},d(t){t&&m(e),t&&m(c),$(g,t),t&&m(r),i=!1,a()}}}function Ee(t,e,n){let{model:o}=e,{update:l}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model),"update"in t&&n(4,l=t.update)},[o,function(){o.weapons.push({name:"",mags:0,damage:"d4",automatic:!1,melee:!1,notes:""}),n(0,o),l()},function(t,e){re.move(o.weapons,t,e),n(0,o)},function(t){re.remove(o.weapons,t),n(0,o),l()},l]}class Oe extends ot{constructor(t){super(),nt(this,t,Ee,Se,c,{model:0,update:4})}}function Ae(t){let e,n,o,l,c,r,s,i,a,u,$,b,x,w,k,C,_,N=t[0].abilities.strength+8+"";return i=new te({props:{model:t[0]}}),b=new Oe({props:{model:t[0],update:t[3]}}),C=new fe({props:{model:t[0],update:t[3]}}),{c(){e=p("div"),n=p("span"),o=g(t[1]),l=g(" / "),c=g(N),s=h(),Y(i.$$.fragment),a=h(),u=p("hr"),$=h(),Y(b.$$.fragment),x=h(),w=p("hr"),k=h(),Y(C.$$.fragment),v(n,"class",r="badge "+t[2]),v(e,"class","position-topright")},m(t,r){f(t,e,r),d(e,n),d(n,o),d(n,l),d(n,c),f(t,s,r),X(i,t,r),f(t,a,r),f(t,u,r),f(t,$,r),X(b,t,r),f(t,x,r),f(t,w,r),f(t,k,r),X(C,t,r),_=!0},p(t,[e]){(!_||2&e)&&y(o,t[1]),(!_||1&e)&&N!==(N=t[0].abilities.strength+8+"")&&y(c,N),(!_||4&e&&r!==(r="badge "+t[2]))&&v(n,"class",r);const l={};1&e&&(l.model=t[0]),i.$set(l);const s={};1&e&&(s.model=t[0]),b.$set(s);const a={};1&e&&(a.model=t[0]),C.$set(a)},i(t){_||(H(i.$$.fragment,t),H(b.$$.fragment,t),H(C.$$.fragment,t),_=!0)},o(t){W(i.$$.fragment,t),W(b.$$.fragment,t),W(C.$$.fragment,t),_=!1},d(t){t&&m(e),t&&m(s),tt(i,t),t&&m(a),t&&m(u),t&&m($),tt(b,t),t&&m(x),t&&m(w),t&&m(k),tt(C,t)}}}function De(t,e,n){let o,l,{model:c}=e;return c.equipment=c.equipment.map((t=>"string"!=typeof t?t:{name:t,size:1})),t.$$set=t=>{"model"in t&&n(0,c=t.model)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=c.weapons.length+c.equipment.reduce(((t,e)=>t+e.size),0)),3&t.$$.dirty&&n(2,l=o>2*(c.abilities.strength+8)?"badge-danger":o>c.abilities.strength+8?"badge-warning":"badge-dark")},[c,o,l,function(){n(0,c)}]}class Ie extends ot{constructor(t){super(),nt(this,t,De,Ae,c,{model:0})}}function Ke(e){let n,o,l,c,r=e[0].name+"";return{c(){n=p("button"),o=g(r),v(n,"class","btn btn-light border text-left flex-grow-1")},m(t,r){f(t,n,r),d(n,o),l||(c=x(n,"click",e[6]),l=!0)},p(t,e){1&e&&r!==(r=t[0].name+"")&&y(o,r)},i:t,o:t,d(t){t&&m(n),l=!1,c()}}}function Le(t){let e,n,l,c,r,s,i,a,u,$,g,b,w,y,C,_,N,q,S;function E(e){t[4](e)}let O={};function A(e){t[5](e)}void 0!==t[0].persistent&&(O.content=t[0].persistent),u=new gt({props:O}),I.push((()=>Q(u,"content",E)));let D={};return void 0!==t[0].trigger&&(D.content=t[0].trigger),C=new gt({props:D}),I.push((()=>Q(C,"content",A))),{c(){e=p("div"),n=p("input"),l=h(),c=p("button"),c.textContent="Close",r=h(),s=p("span"),s.textContent="Persistent",i=h(),a=p("div"),Y(u.$$.fragment),g=h(),b=p("span"),b.textContent="Trigger",w=h(),y=p("div"),Y(C.$$.fragment),v(n,"class","flex-grow-1 form-control"),v(c,"class","btn btn-light border"),v(e,"class","d-flex flex-grow-1"),v(a,"class","d-flex"),v(y,"class","d-flex")},m(o,m){f(o,e,m),d(e,n),k(n,t[0].name),d(e,l),d(e,c),f(o,r,m),f(o,s,m),f(o,i,m),f(o,a,m),X(u,a,null),f(o,g,m),f(o,b,m),f(o,w,m),f(o,y,m),X(C,y,null),N=!0,q||(S=[x(n,"input",t[2]),x(c,"click",t[3])],q=!0)},p(t,e){1&e&&n.value!==t[0].name&&k(n,t[0].name);const o={};!$&&1&e&&($=!0,o.content=t[0].persistent,j((()=>$=!1))),u.$set(o);const l={};!_&&1&e&&(_=!0,l.content=t[0].trigger,j((()=>_=!1))),C.$set(l)},i(t){N||(H(u.$$.fragment,t),H(C.$$.fragment,t),N=!0)},o(t){W(u.$$.fragment,t),W(C.$$.fragment,t),N=!1},d(t){t&&m(e),t&&m(r),t&&m(s),t&&m(i),t&&m(a),tt(u),t&&m(g),t&&m(b),t&&m(w),t&&m(y),tt(C),q=!1,o(S)}}}function ze(t){let e,n,o,l;const c=[Le,Ke],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),v(e,"class","d-flex flex-column flex-grow-1")},m(t,o){f(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function Me(t,e,n){let{infestation:o}=e,l=!1;return t.$$set=t=>{"infestation"in t&&n(0,o=t.infestation)},[o,l,function(){o.name=this.value,n(0,o)},()=>n(1,l=!1),function(e){t.$$.not_equal(o.persistent,e)&&(o.persistent=e,n(0,o))},function(e){t.$$.not_equal(o.trigger,e)&&(o.trigger=e,n(0,o))},()=>n(1,l=!0)]}class Pe extends ot{constructor(t){super(),nt(this,t,Me,ze,c,{infestation:0})}}function je(e){let n,l,c,r,s,i,a,u,$,b=e[0].name+"",w=e[0].used+"";return{c(){n=p("button"),l=g(b),c=h(),r=p("button"),s=g(w),i=h(),a=p("button"),a.textContent="Reset",v(n,"class","btn btn-light border text-left flex-grow-1"),v(r,"class","btn btn-dark ml-1"),v(a,"class","btn btn-light border ml-1")},m(t,o){f(t,n,o),d(n,l),f(t,c,o),f(t,r,o),d(r,s),f(t,i,o),f(t,a,o),u||($=[x(n,"click",e[7]),x(r,"click",e[2]),x(a,"click",e[8])],u=!0)},p(t,e){1&e&&b!==(b=t[0].name+"")&&y(l,b),1&e&&w!==(w=t[0].used+"")&&y(s,w)},i:t,o:t,d(t){t&&m(n),t&&m(c),t&&m(r),t&&m(i),t&&m(a),u=!1,o($)}}}function Be(t){let e,n,l,c,r,s,i,a,u,$,b,w,C,_,N,q,S,E,O,A,D,K,L=t[0].used+"";function z(e){t[6](e)}let M={};return void 0!==t[0].description&&(M.content=t[0].description),C=new gt({props:M}),I.push((()=>Q(C,"content",z))),O=new Pe({props:{infestation:t[0].infestation}}),{c(){e=p("div"),n=p("div"),l=p("input"),c=h(),r=p("button"),r.textContent="Close",s=h(),i=p("button"),a=g(L),u=h(),$=p("button"),$.textContent="Reset",b=h(),w=p("div"),Y(C.$$.fragment),N=h(),q=p("span"),q.textContent="Linked Infestation",S=h(),E=p("div"),Y(O.$$.fragment),v(l,"class","flex-grow-1 form-control"),v(r,"class","btn btn-light border"),v(i,"class","btn btn-dark ml-1"),v($,"class","btn btn-light border ml-1"),v(n,"class","d-flex flex-grow-1"),v(w,"class","d-flex"),v(E,"class","pl-3"),v(e,"class","d-flex flex-column flex-grow-1")},m(o,m){f(o,e,m),d(e,n),d(n,l),k(l,t[0].name),d(n,c),d(n,r),d(n,s),d(n,i),d(i,a),d(n,u),d(n,$),d(e,b),d(e,w),X(C,w,null),d(e,N),d(e,q),d(e,S),d(e,E),X(O,E,null),A=!0,D||(K=[x(l,"input",t[3]),x(r,"click",t[4]),x(i,"click",t[2]),x($,"click",t[5])],D=!0)},p(t,e){1&e&&l.value!==t[0].name&&k(l,t[0].name),(!A||1&e)&&L!==(L=t[0].used+"")&&y(a,L);const n={};!_&&1&e&&(_=!0,n.content=t[0].description,j((()=>_=!1))),C.$set(n);const o={};1&e&&(o.infestation=t[0].infestation),O.$set(o)},i(t){A||(H(C.$$.fragment,t),H(O.$$.fragment,t),A=!0)},o(t){W(C.$$.fragment,t),W(O.$$.fragment,t),A=!1},d(t){t&&m(e),tt(C),tt(O),D=!1,o(K)}}}function Ue(t){let e,n,o,l;const c=[Be,je],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),v(e,"class","d-flex flex-grow-1")},m(t,o){f(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function Te(t,e,n){let o,{nano:l}=e;return t.$$set=t=>{"nano"in t&&n(0,l=t.nano)},[l,o,function(t){let e=t.shiftKey?-1:1;n(0,l.used+=e,l),l.used<0&&n(0,l.used=0,l)},function(){l.name=this.value,n(0,l)},()=>n(1,o=!1),()=>n(0,l.used=0,l),function(e){t.$$.not_equal(l.description,e)&&(l.description=e,n(0,l))},()=>n(1,o=!0),()=>n(0,l.used=0,l)]}class Je extends ot{constructor(t){super(),nt(this,t,Te,Ue,c,{nano:0})}}function Re(t,e,n){const o=t.slice();return o[4]=e[n],o}function Ve(t){let e,n,o;return e=new Je({props:{nano:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),f(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.nano=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function Fe(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Ve]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Ge(t){let e,n,o,l,c,r,s=t[0].nano,i=[];for(let e=0;e<s.length;e+=1)i[e]=Fe(Re(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),v(e,"class","btn btn-dark")},m(s,a){f(s,e,a),f(s,n,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(s,a);f(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].nano,n=0;n<s.length;n+=1){const l=Re(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=Fe(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function He(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.nano.push({name:"Nano power",description:"",used:0,infestation:{name:"Infestation",persistent:"",trigger:""}}),n(0,o)},function(t,e){let l=o.nano.indexOf(e);o.nano.splice(l,1),l+=t,l<0?l=o.nano.length:l>o.nano.length&&(l=0),o.nano.splice(l,0,e),n(0,o)},function(t){let e=o.nano.indexOf(t);o.nano.splice(e,1),n(0,o)}]}class We extends ot{constructor(t){super(),nt(this,t,He,Ge,c,{model:0})}}const Ze=(t,e)=>{for(let n in e)t[n]||(t[n]=e[n]),"object"==typeof t[n]&&Ze(t[n],e[n])};var Qe=t=>{if(confirm(`Delete ${t.name}?`))return localStorage.removeItem(t.name),{success:`${t.name} deleted from character storage`}},Ye=()=>{if(confirm("Delete all saved characters?"))return localStorage.clear(),{success:"All characters deleted from character storage"}},Xe=t=>{let e=URL.createObjectURL(new Blob([JSON.stringify(t)])),n=document.createElement("a");n.href=e,n.download=`${t.name}.cybrg`,n.click()},tn=t=>{let e=document.createElement("input");e.type="file",e.accept=".cybrg",e.onchange=e=>{e.target.files[0].text().then((e=>{let n=JSON.parse(e).name;localStorage.setItem(n,e),t(`${n} added to character storage`)}))},e.click()},en=(t,e)=>{let n=e;if(n==`${t.name}.cybrg`)return{model:t};let o="";return t.name&&confirm(`Save ${t.name} before changing characters?`)&&(localStorage.setItem(t.name,JSON.stringify(t)),o+=`${t.name} saved, `),t=JSON.parse(localStorage.getItem(n)),Ze(t,lt()),{model:t,alert:{success:`${o}${t.name} opened`}}},nn=()=>{let t=[...new Array(window.localStorage.length)].map(((t,e)=>window.localStorage.key(e)));return t=t.filter((t=>t.endsWith(".cybrg"))),t.sort(((t,e)=>t.localeCompare(e))),t},on=t=>t.name?(localStorage.setItem(`${t.name}.cybrg`,JSON.stringify(t)),{success:`${t.name} saved`}):{error:"Cannot save an unnamed character"};function ln(t,e,n){const o=t.slice();return o[27]=e[n],o}function cn(t){let e,n,l,c,r=t[27]+"";function s(){return t[16](t[27])}return{c(){e=p("button"),n=g(r),v(e,"class","dropdown-item")},m(o,r){f(o,e,r),d(e,n),l||(c=[x(e,"blur",t[6]),x(e,"click",s)],l=!0)},p(e,o){t=e,4&o&&r!==(r=t[27]+"")&&y(n,r)},d(t){t&&m(e),l=!1,o(c)}}}function rn(t){let e,n,l,c,r,s=t[3].error+"";return{c(){e=p("button"),n=p("strong"),l=g(s),v(e,"class","alert alert-static alert-danger btn text-center w-100")},m(o,s){f(o,e,s),d(e,n),d(n,l),t[22](e),c||(r=[x(e,"blur",t[23]),x(e,"click",t[24])],c=!0)},p(t,e){8&e&&s!==(s=t[3].error+"")&&y(l,s)},d(n){n&&m(e),t[22](null),c=!1,o(r)}}}function sn(t){let e,n,l,c,r,s=t[3].success+"";return{c(){e=p("button"),n=p("strong"),l=g(s),v(e,"class","alert alert-static alert-success btn text-center w-100")},m(o,s){f(o,e,s),d(e,n),d(n,l),t[19](e),c||(r=[x(e,"blur",t[20]),x(e,"click",t[21])],c=!0)},p(t,e){8&e&&s!==(s=t[3].success+"")&&y(l,s)},d(n){n&&m(e),t[19](null),c=!1,o(r)}}}function an(e){let n,l,c,r,s,i,a,u,g,w,y,k,_,N,S,E,O,A,D,I,K,L,z,M,P,j,B,U,T,J,R,V,F=e[2],G=[];for(let t=0;t<F.length;t+=1)G[t]=cn(ln(e,F,t));function H(t,e){return t[3]?.success?sn:t[3]?.error?rn:void 0}let W=H(e),Z=W&&W(e);return{c(){n=p("nav"),l=p("button"),l.innerHTML='<span class="navbar-toggler-icon"></span>',c=h(),r=p("div"),s=p("ul"),i=p("li"),a=p("a"),a.textContent="Characters",u=h(),g=p("div");for(let t=0;t<G.length;t+=1)G[t].c();y=h(),k=p("div"),_=p("div"),N=p("button"),N.textContent="Options",S=h(),E=p("div"),O=p("button"),O.textContent="Save",A=h(),D=p("button"),D.textContent="Export",I=h(),K=p("button"),K.textContent="Import",L=h(),z=p("button"),z.textContent="Delete",M=h(),P=p("button"),P.textContent="Delete all",j=h(),B=p("button"),B.textContent=("dark"==ct?"Light":"Dark")+" mode",T=h(),Z&&Z.c(),J=b(),v(l,"class","navbar-toggler"),v(l,"type","button"),v(a,"href","#"),v(a,"class","nav-link dropdown-toggle"),q(a,"disabled",!e[2].length),v(g,"class","dropdown-menu"),v(g,"style",w="display: "+("characters"==e[1]?"block":"none")),v(i,"class","nav-item dropdown"),v(s,"class","navbar-nav mr-auto"),v(N,"href","#"),v(N,"class","dropdown-toggle btn btn-light border border-dark"),v(O,"class","dropdown-item"),v(D,"class","dropdown-item"),v(K,"class","dropdown-item"),v(z,"class","dropdown-item"),v(P,"class","dropdown-item"),v(B,"class","dropdown-item"),v(E,"class","dropdown-menu"),v(E,"style",U="display: "+("options"==e[1]?"block":"none")),v(_,"class","nav-item dropdown"),v(k,"class","navbar-nav"),v(r,"class","collapse navbar-collapse"),C(r,"display",e[0]),v(n,"class","navbar navbar-expand-md navbar-light bg-light")},m(t,o){f(t,n,o),d(n,l),d(n,c),d(n,r),d(r,s),d(s,i),d(i,a),d(i,u),d(i,g);for(let t=0;t<G.length;t+=1)G[t]&&G[t].m(g,null);d(r,y),d(r,k),d(k,_),d(_,N),d(_,S),d(_,E),d(E,O),d(E,A),d(E,D),d(E,I),d(E,K),d(E,L),d(E,z),d(E,M),d(E,P),d(E,j),d(E,B),f(t,T,o),Z&&Z.m(t,o),f(t,J,o),R||(V=[x(l,"click",e[12]),x(a,"blur",e[6]),x(a,"click",e[15]),x(N,"blur",e[6]),x(N,"click",e[17]),x(O,"click",e[10]),x(O,"blur",e[6]),x(D,"click",e[9]),x(D,"blur",e[6]),x(K,"click",e[13]),x(K,"blur",e[6]),x(z,"click",e[7]),x(z,"blur",e[6]),x(P,"click",e[8]),x(P,"blur",e[6]),x(B,"click",e[18])],R=!0)},p(t,[e]){if(4&e&&q(a,"disabled",!t[2].length),100&e){let n;for(F=t[2],n=0;n<F.length;n+=1){const o=ln(t,F,n);G[n]?G[n].p(o,e):(G[n]=cn(o),G[n].c(),G[n].m(g,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=F.length}2&e&&w!==(w="display: "+("characters"==t[1]?"block":"none"))&&v(g,"style",w),2&e&&U!==(U="display: "+("options"==t[1]?"block":"none"))&&v(E,"style",U),1&e&&C(r,"display",t[0]),W===(W=H(t))&&Z?Z.p(t,e):(Z&&Z.d(1),Z=W&&W(t),Z&&(Z.c(),Z.m(J.parentNode,J)))},i:t,o:t,d(t){t&&m(n),$(G,t),t&&m(T),Z&&Z.d(t),t&&m(J),R=!1,o(V)}}}function un(t,e,n){let o,l,{model:c=lt()}=e,r="none",s="",i=[];function a(t){let e=en(c,t);n(14,c=e.model),n(3,o=e.alert),f()}function u(){n(2,i=nn())}function d(t){n(1,s=t)}function f(){n(0,r="none"==r?"block":"none")}u();let m=window.setInterval((()=>{console.log(`Autosave (${c.name})`),null!=i.find((t=>t==c.name))&&on(c)}),1e4);var $;A((()=>{l&&l.focus()})),$=()=>{clearInterval(m)},O().$$.on_destroy.push($);return t.$$set=t=>{"model"in t&&n(14,c=t.model)},[r,s,i,o,l,a,function(t){t.relatedTarget?.className.includes("dropdown-item")||n(1,s="")},function(){n(3,o=Qe(c)),u(),f()},function(){n(3,o=Ye()),u(),f()},function(){Xe(c),f()},function(){n(3,o=on(c)),n(2,i=nn()),f()},d,f,function(){tn((t=>{n(3,o={success:t}),n(2,i=nn())})),f()},c,()=>d("characters"),t=>a(t),()=>d("options"),()=>{return t="dark"==ct?"light":"dark",void(window.location.search=`theme=${t}`);var t},function(t){I[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},()=>n(3,o=null),()=>n(3,o=null),function(t){I[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},()=>n(3,o=null),()=>n(3,o=null)]}class dn extends ot{constructor(t){super(),nt(this,t,un,an,c,{model:14})}}function fn(t){let e,n,o,l,c,s,$,b,w;const k=t[4].default,_=r(k,t,t[3],null);return{c(){e=p("div"),n=p("h4"),o=p("button"),l=g(t[0]),c=h(),s=p("span"),_&&_.c(),v(o,"class","btn btn-dark badge"),C(o,"width","2.0em"),v(s,"class","align-self-center ml-1"),v(e,"class","d-flex")},m(r,i){f(r,e,i),d(e,n),d(n,o),d(o,l),d(e,c),d(e,s),_&&_.m(s,null),$=!0,b||(w=x(o,"click",t[1]),b=!0)},p(t,[e]){(!$||1&e)&&y(l,t[0]),_&&_.p&&(!$||8&e)&&a(_,k,t,t[3],$?i(k,t[3],e,null):u(t[3]),null)},i(t){$||(H(_,t),$=!0)},o(t){W(_,t),$=!1},d(t){t&&m(e),_&&_.d(t),b=!1,w()}}}function mn(t,e,n){let o,{$$slots:l={},$$scope:c}=e,{score:r}=e;return t.$$set=t=>{"score"in t&&n(2,r=t.score),"$$scope"in t&&n(3,c=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&n(0,o=r>0?`+${r}`:`${r}`)},[o,function(t){n(2,r+=t.shiftKey?-1:1),r<-3&&n(2,r=3),r>3&&n(2,r=-3)},r,c,l]}class $n extends ot{constructor(t){super(),nt(this,t,mn,fn,c,{score:2})}}function pn(t){let e;return{c(){e=g("Strength")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function gn(t){let e;return{c(){e=g("Agility")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function hn(t){let e;return{c(){e=g("Presence")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function bn(t){let e;return{c(){e=g("Toughness")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function xn(t){let e;return{c(){e=g("Knowledge")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function vn(t){let e,n,o,l,c,r,s,i,a,u,d,$,p,g,b;function x(e){t[1](e)}let v={$$slots:{default:[pn]},$$scope:{ctx:t}};function w(e){t[2](e)}void 0!==t[0].abilities.strength&&(v.score=t[0].abilities.strength),e=new $n({props:v}),I.push((()=>Q(e,"score",x)));let y={$$slots:{default:[gn]},$$scope:{ctx:t}};function k(e){t[3](e)}void 0!==t[0].abilities.agility&&(y.score=t[0].abilities.agility),l=new $n({props:y}),I.push((()=>Q(l,"score",w)));let C={$$slots:{default:[hn]},$$scope:{ctx:t}};function _(e){t[4](e)}void 0!==t[0].abilities.presence&&(C.score=t[0].abilities.presence),s=new $n({props:C}),I.push((()=>Q(s,"score",k)));let N={$$slots:{default:[bn]},$$scope:{ctx:t}};function q(e){t[5](e)}void 0!==t[0].abilities.toughness&&(N.score=t[0].abilities.toughness),u=new $n({props:N}),I.push((()=>Q(u,"score",_)));let S={$$slots:{default:[xn]},$$scope:{ctx:t}};return void 0!==t[0].abilities.knowledge&&(S.score=t[0].abilities.knowledge),p=new $n({props:S}),I.push((()=>Q(p,"score",q))),{c(){Y(e.$$.fragment),o=h(),Y(l.$$.fragment),r=h(),Y(s.$$.fragment),a=h(),Y(u.$$.fragment),$=h(),Y(p.$$.fragment)},m(t,n){X(e,t,n),f(t,o,n),X(l,t,n),f(t,r,n),X(s,t,n),f(t,a,n),X(u,t,n),f(t,$,n),X(p,t,n),b=!0},p(t,[o]){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,r.score=t[0].abilities.strength,j((()=>n=!1))),e.$set(r);const a={};64&o&&(a.$$scope={dirty:o,ctx:t}),!c&&1&o&&(c=!0,a.score=t[0].abilities.agility,j((()=>c=!1))),l.$set(a);const f={};64&o&&(f.$$scope={dirty:o,ctx:t}),!i&&1&o&&(i=!0,f.score=t[0].abilities.presence,j((()=>i=!1))),s.$set(f);const m={};64&o&&(m.$$scope={dirty:o,ctx:t}),!d&&1&o&&(d=!0,m.score=t[0].abilities.toughness,j((()=>d=!1))),u.$set(m);const $={};64&o&&($.$$scope={dirty:o,ctx:t}),!g&&1&o&&(g=!0,$.score=t[0].abilities.knowledge,j((()=>g=!1))),p.$set($)},i(t){b||(H(e.$$.fragment,t),H(l.$$.fragment,t),H(s.$$.fragment,t),H(u.$$.fragment,t),H(p.$$.fragment,t),b=!0)},o(t){W(e.$$.fragment,t),W(l.$$.fragment,t),W(s.$$.fragment,t),W(u.$$.fragment,t),W(p.$$.fragment,t),b=!1},d(t){tt(e,t),t&&m(o),tt(l,t),t&&m(r),tt(s,t),t&&m(a),tt(u,t),t&&m($),tt(p,t)}}}function wn(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(e){t.$$.not_equal(o.abilities.strength,e)&&(o.abilities.strength=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.agility,e)&&(o.abilities.agility=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.presence,e)&&(o.abilities.presence=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.toughness,e)&&(o.abilities.toughness=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.knowledge,e)&&(o.abilities.knowledge=e,n(0,o))}]}class yn extends ot{constructor(t){super(),nt(this,t,wn,vn,c,{model:0})}}function kn(t,e,n){const o=t.slice();return o[9]=e[n],o}function Cn(t){let e,n,o,l,c=t[0].die+"";return{c(){e=p("button"),n=g(c),v(e,"class","btn btn-light border ml-1")},m(c,r){f(c,e,r),d(e,n),o||(l=x(e,"click",t[6]),o=!0)},p(t,e){1&e&&c!==(c=t[0].die+"")&&y(n,c)},d(t){t&&m(e),o=!1,l()}}}function _n(t){let e,n,l,c,r,s,i=t[2],a=[];for(let e=0;e<i.length;e+=1)a[e]=Nn(kn(t,i,e));return{c(){e=p("div"),n=p("select");for(let t=0;t<a.length;t+=1)a[t].c();l=h(),c=p("button"),c.textContent="Close",v(n,"class","form-control"),void 0===t[0].die&&P((()=>t[4].call(n))),v(e,"class","ml-1"),v(c,"class","btn btn-light border ml-1")},m(o,i){f(o,e,i),d(e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);_(n,t[0].die,!0),f(o,l,i),f(o,c,i),r||(s=[x(n,"change",t[4]),x(c,"click",t[5])],r=!0)},p(t,e){if(4&e){let o;for(i=t[2],o=0;o<i.length;o+=1){const l=kn(t,i,o);a[o]?a[o].p(l,e):(a[o]=Nn(l),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}5&e&&_(n,t[0].die)},d(t){t&&m(e),$(a,t),t&&m(l),t&&m(c),r=!1,o(s)}}}function Nn(e){let n,o,l=e[9]+"";return{c(){n=p("option"),o=g(l),n.__value=e[9],n.value=n.__value},m(t,e){f(t,n,e),d(n,o)},p:t,d(t){t&&m(n)}}}function qn(e){let n,l,c,r,s,i,a,u,$,b,w,k,C,_,N,q=e[0].current+"";function S(t,e){return t[1]?_n:Cn}let E=S(e),O=E(e);return{c(){n=p("div"),l=p("button"),c=g(q),r=h(),s=p("span"),s.textContent="Glitches",i=h(),a=p("span"),a.textContent="Die",u=h(),O.c(),$=h(),b=p("div"),w=p("button"),w.textContent="+",k=h(),C=p("button"),C.textContent="-",v(l,"class","btn btn-dark"),v(s,"class","align-self-center ml-1"),v(a,"class","align-self-center ml-auto"),v(w,"class","btn btn-dark"),v(C,"class","btn btn-dark"),v(b,"class","btn-group ml-1"),v(n,"class","d-flex")},m(t,o){f(t,n,o),d(n,l),d(l,c),d(n,r),d(n,s),d(n,i),d(n,a),d(n,u),O.m(n,null),d(n,$),d(n,b),d(b,w),d(b,k),d(b,C),_||(N=[x(l,"click",e[3]),x(w,"click",e[7]),x(C,"click",e[8])],_=!0)},p(t,[e]){1&e&&q!==(q=t[0].current+"")&&y(c,q),E===(E=S(t))&&O?O.p(t,e):(O.d(1),O=E(t),O&&(O.c(),O.m(n,$)))},i:t,o:t,d(t){t&&m(n),O.d(),_=!1,o(N)}}}function Sn(t,e,n){let{glitches:o}=e;const l=["d2","d3","d4"];function c(t){let e=t.shiftKey?1:-1;n(0,o.current+=e,o),o.current<0&&n(0,o.current=0,o)}let r=!1;return t.$$set=t=>{"glitches"in t&&n(0,o=t.glitches)},[o,r,l,c,function(){o.die=N(this),n(0,o),n(2,l)},()=>n(1,r=!1),()=>n(1,r=!0),()=>c({shiftKey:!0}),()=>c({shiftKey:!1})]}class En extends ot{constructor(t){super(),nt(this,t,Sn,qn,c,{glitches:0})}}function On(e){let n,l,c,r,s,i,a,u,$,b,w,k,C,_,N,q,S,E,O,A,D,I,K,L,z=e[0].current+"",M=e[0].max+"";return{c(){n=p("div"),l=p("h3"),c=p("button"),r=g(z),s=h(),i=p("span"),i.textContent="/",a=h(),u=p("h3"),$=p("button"),b=g(M),w=h(),k=p("span"),k.textContent="Hit Points",C=h(),_=p("div"),N=p("button"),N.textContent="+",q=h(),S=p("button"),S.textContent="-",E=h(),O=p("div"),A=p("button"),A.textContent="+max",D=h(),I=p("button"),I.textContent="-max",v(c,"class","btn-dark badge"),v(i,"class","ml-2 mr-2 align-self-center"),v($,"class","btn-dark badge"),v(k,"class","ml-2 align-self-center"),v(N,"class","btn btn-dark align-self-center"),v(S,"class","btn btn-dark align-self-center"),v(_,"class","btn-group ml-auto"),v(A,"class","btn btn-dark align-self-center"),v(I,"class","btn btn-dark align-self-center"),v(O,"class","btn-group ml-1"),v(n,"class","d-flex")},m(t,o){f(t,n,o),d(n,l),d(l,c),d(c,r),d(n,s),d(n,i),d(n,a),d(n,u),d(u,$),d($,b),d(n,w),d(n,k),d(n,C),d(n,_),d(_,N),d(_,q),d(_,S),d(n,E),d(n,O),d(O,A),d(O,D),d(O,I),K||(L=[x(c,"click",e[1]),x($,"click",e[2]),x(N,"click",e[3]),x(S,"click",e[4]),x(A,"click",e[5]),x(I,"click",e[6])],K=!0)},p(t,[e]){1&e&&z!==(z=t[0].current+"")&&y(r,z),1&e&&M!==(M=t[0].max+"")&&y(b,M)},i:t,o:t,d(t){t&&m(n),K=!1,o(L)}}}function An(t,e,n){let{hp:o}=e;function l(t){n(0,o.current+=t.shiftKey?1:-1,o)}function c(t){n(0,o.max+=t.shiftKey?-1:1,o)}return t.$$set=t=>{"hp"in t&&n(0,o=t.hp)},[o,l,c,()=>l({shiftKey:!0}),()=>l({shiftKey:!1}),()=>c({shiftKey:!1}),()=>c({shiftKey:!0})]}class Dn extends ot{constructor(t){super(),nt(this,t,An,On,c,{hp:0})}}function In(t){let e,n,o,l,c,r,s,i;return e=new Dn({props:{hp:t[0].hp}}),o=new En({props:{glitches:t[0].glitches}}),s=new yn({props:{model:t[0]}}),{c(){Y(e.$$.fragment),n=h(),Y(o.$$.fragment),l=h(),c=p("hr"),r=h(),Y(s.$$.fragment)},m(t,a){X(e,t,a),f(t,n,a),X(o,t,a),f(t,l,a),f(t,c,a),f(t,r,a),X(s,t,a),i=!0},p(t,[n]){const l={};1&n&&(l.hp=t[0].hp),e.$set(l);const c={};1&n&&(c.glitches=t[0].glitches),o.$set(c);const r={};1&n&&(r.model=t[0]),s.$set(r)},i(t){i||(H(e.$$.fragment,t),H(o.$$.fragment,t),H(s.$$.fragment,t),i=!0)},o(t){W(e.$$.fragment,t),W(o.$$.fragment,t),W(s.$$.fragment,t),i=!1},d(t){tt(e,t),t&&m(n),tt(o,t),t&&m(l),t&&m(c),t&&m(r),tt(s,t)}}}function Kn(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o]}class Ln extends ot{constructor(t){super(),nt(this,t,Kn,In,c,{model:0})}}function zn(t,e,n){const o=t.slice();return o[4]=e[n],o}function Mn(t){let e,n,o;return e=new Pe({props:{infestation:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),f(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.infestation=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function Pn(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Mn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function jn(t){let e,n,o,l,c,r,s=t[0].infestations,i=[];for(let e=0;e<s.length;e+=1)i[e]=Pn(zn(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),v(e,"class","btn btn-dark")},m(s,a){f(s,e,a),f(s,n,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(s,a);f(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].infestations,n=0;n<s.length;n+=1){const l=zn(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=Pn(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function Bn(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.infestations.push({name:"Infestation",persistent:"",trigger:""}),n(0,o)},function(t,e){let l=o.infestations.indexOf(e);o.infestations.splice(l,1),l+=t,l<0?l=o.infestations.length:l>o.infestations.length&&(l=0),o.infestations.splice(l,0,e),n(0,o)},function(t){let e=o.infestations.indexOf(t);o.infestations.splice(e,1),n(0,o)}]}class Un extends ot{constructor(t){super(),nt(this,t,Bn,jn,c,{model:0})}}function Tn(e){let n,o,l,c,r=e[0].name+"";return{c(){n=p("button"),o=g(r),v(n,"class","btn btn-light border text-left flex-grow-1")},m(t,r){f(t,n,r),d(n,o),l||(c=x(n,"click",e[5]),l=!0)},p(t,e){1&e&&r!==(r=t[0].name+"")&&y(o,r)},i:t,o:t,d(t){t&&m(n),l=!1,c()}}}function Jn(t){let e,n,l,c,r,s,i,a,u,$,g;function b(e){t[4](e)}let w={};return void 0!==t[0].description&&(w.content=t[0].description),i=new gt({props:w}),I.push((()=>Q(i,"content",b))),{c(){e=p("div"),n=p("input"),l=h(),c=p("button"),c.textContent="Close",r=h(),s=p("div"),Y(i.$$.fragment),v(n,"class","flex-grow-1 form-control"),v(c,"class","btn btn-light border"),v(e,"class","d-flex flex-grow-1"),v(s,"class","d-flex")},m(o,a){f(o,e,a),d(e,n),k(n,t[0].name),d(e,l),d(e,c),f(o,r,a),f(o,s,a),X(i,s,null),u=!0,$||(g=[x(n,"input",t[2]),x(c,"click",t[3])],$=!0)},p(t,e){1&e&&n.value!==t[0].name&&k(n,t[0].name);const o={};!a&&1&e&&(a=!0,o.content=t[0].description,j((()=>a=!1))),i.$set(o)},i(t){u||(H(i.$$.fragment,t),u=!0)},o(t){W(i.$$.fragment,t),u=!1},d(t){t&&m(e),t&&m(r),t&&m(s),tt(i),$=!1,o(g)}}}function Rn(t){let e,n,o,l;const c=[Jn,Tn],r=[];function s(t,e){return t[1]?0:1}return n=s(t),o=r[n]=c[n](t),{c(){e=p("div"),o.c(),v(e,"class","d-flex flex-column flex-grow-1")},m(t,o){f(t,e,o),r[n].m(e,null),l=!0},p(t,[l]){let i=n;n=s(t),n===i?r[n].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),o=r[n],o?o.p(t,l):(o=r[n]=c[n](t),o.c()),H(o,1),o.m(e,null))},i(t){l||(H(o),l=!0)},o(t){W(o),l=!1},d(t){t&&m(e),r[n].d()}}}function Vn(t,e,n){let o,{cyberware:l}=e;return t.$$set=t=>{"cyberware"in t&&n(0,l=t.cyberware)},[l,o,function(){l.name=this.value,n(0,l)},()=>n(1,o=!1),function(e){t.$$.not_equal(l.description,e)&&(l.description=e,n(0,l))},()=>n(1,o=!0)]}class Fn extends ot{constructor(t){super(),nt(this,t,Vn,Rn,c,{cyberware:0})}}function Gn(t,e,n){const o=t.slice();return o[4]=e[n],o}function Hn(t){let e,n,o;return e=new Fn({props:{cyberware:t[4]}}),{c(){Y(e.$$.fragment),n=h()},m(t,l){X(e,t,l),f(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.cyberware=t[4]),e.$set(o)},i(t){o||(H(e.$$.fragment,t),o=!0)},o(t){W(e.$$.fragment,t),o=!1},d(t){tt(e,t),t&&m(n)}}}function Wn(t){let e,n;return e=new Ct({props:{item:t[4],move:t[2],remove:t[3],$$slots:{default:[Hn]},$$scope:{ctx:t}}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[4]),129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Zn(t){let e,n,o,l,c,r,s=t[0].cybertech,i=[];for(let e=0;e<s.length;e+=1)i[e]=Wn(Gn(t,s,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=p("button"),e.textContent="Add",n=h();for(let t=0;t<i.length;t+=1)i[t].c();o=b(),v(e,"class","btn btn-dark")},m(s,a){f(s,e,a),f(s,n,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(s,a);f(s,o,a),l=!0,c||(r=x(e,"click",t[1]),c=!0)},p(t,[e]){if(13&e){let n;for(s=t[0].cybertech,n=0;n<s.length;n+=1){const l=Gn(t,s,n);i[n]?(i[n].p(l,e),H(i[n],1)):(i[n]=Wn(l),i[n].c(),H(i[n],1),i[n].m(o.parentNode,o))}for(F(),n=s.length;n<i.length;n+=1)a(n);G()}},i(t){if(!l){for(let t=0;t<s.length;t+=1)H(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);l=!1},d(t){t&&m(e),t&&m(n),$(i,t),t&&m(o),c=!1,r()}}}function Qn(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(){o.cybertech.push({name:"Cyberware",description:""}),n(0,o)},function(t,e){let l=o.cybertech.indexOf(e);o.cybertech.splice(l,1),l+=t,l<0?l=o.cybertech.length:l>o.cybertech.length&&(l=0),o.cybertech.splice(l,0,e),n(0,o)},function(t){let e=o.cybertech.indexOf(t);o.cybertech.splice(e,1),n(0,o)}]}class Yn extends ot{constructor(t){super(),nt(this,t,Qn,Zn,c,{model:0})}}var Xn={shortDate:(t=new Date)=>{let e=t.getDate().toString();1==e.length&&(e=`0${e}`);let n=(t.getMonth()+1).toString();1==n.length&&(n=`0${n}`);let o=t.getFullYear();for(;o.length<4;)o=`0${o}`;return`${o}-${n}-${e}`}};function to(t){let e,n,l,c,r,s,i,a,u,$,g,b,w,y,k;function C(t,e){return t[3]?oo:no}let _=C(t),N=_(t);function q(e){t[15](e)}let S={highlight:t[2]};return void 0!==t[0].content&&(S.content=t[0].content),g=new gt({props:S}),I.push((()=>Q(g,"content",q))),{c(){e=p("div"),n=p("div"),l=p("div"),c=p("div"),N.c(),r=h(),s=p("button"),s.textContent="hide",i=h(),a=p("button"),a.textContent="delete",u=h(),$=p("div"),Y(g.$$.fragment),v(s,"class","badge btn btn-light border ml-1 p-2"),v(a,"class","badge btn btn-light border ml-1 p-2"),v(c,"class","d-flex"),v($,"class","d-flex"),v(l,"class","card-body"),v(n,"class","card"),v(e,"class","col-12")},m(o,m){f(o,e,m),d(e,n),d(n,l),d(l,c),N.m(c,null),d(c,r),d(c,s),d(c,i),d(c,a),d(l,u),d(l,$),X(g,$,null),w=!0,y||(k=[x(s,"click",t[13]),x(a,"click",t[14])],y=!0)},p(t,e){_===(_=C(t))&&N?N.p(t,e):(N.d(1),N=_(t),N&&(N.c(),N.m(c,r)));const n={};4&e&&(n.highlight=t[2]),!b&&1&e&&(b=!0,n.content=t[0].content,j((()=>b=!1))),g.$set(n)},i(t){w||(H(g.$$.fragment,t),w=!0)},o(t){W(g.$$.fragment,t),w=!1},d(t){t&&m(e),N.d(),tt(g),y=!1,o(k)}}}function eo(e){let n,l,c,r,s,i,a,u,$,b=e[0].title+"",w=Xn.shortDate(e[5])+"";return{c(){n=p("div"),l=p("h4"),c=p("button"),r=g(b),s=h(),i=p("button"),a=g(w),v(c,"class","badge btn btn-light w-100 text-left"),C(c,"min-height","2.2em"),v(l,"class","flex-grow-1 m-0"),v(i,"class","badge btn btn-light border ml-1 p-2"),v(n,"class","col-12 d-flex")},m(t,o){f(t,n,o),d(n,l),d(l,c),d(c,r),d(n,s),d(n,i),d(i,a),u||($=[x(c,"click",e[7]),x(i,"click",e[8])],u=!0)},p(t,e){1&e&&b!==(b=t[0].title+"")&&y(r,b),32&e&&w!==(w=Xn.shortDate(t[5])+"")&&y(a,w)},i:t,o:t,d(t){t&&m(n),u=!1,o($)}}}function no(t){let e,n,o,l,c=t[0].title+"";return{c(){e=p("button"),n=g(c),v(e,"class","btn btn-light w-100 text-left font-weight-bold"),C(e,"min-height","2.2em")},m(c,r){f(c,e,r),d(e,n),o||(l=x(e,"click",t[12]),o=!0)},p(t,e){1&e&&c!==(c=t[0].title+"")&&y(n,c)},d(t){t&&m(e),o=!1,l()}}}function oo(t){let e,n,l;return{c(){e=p("input"),v(e,"class","form-control")},m(o,c){f(o,e,c),t[10](e),k(e,t[0].title),n||(l=[x(e,"blur",t[9]),x(e,"input",t[11])],n=!0)},p(t,n){1&n&&e.value!==t[0].title&&k(e,t[0].title)},d(c){c&&m(e),t[10](null),n=!1,o(l)}}}function lo(t){let e,n,o,l;const c=[eo,to],r=[];function s(t,e){return t[6]?0:1}return e=s(t),n=r[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){r[e].m(t,n),f(t,o,n),l=!0},p(t,[l]){let i=e;e=s(t),e===i?r[e].p(t,l):(F(),W(r[i],1,1,(()=>{r[i]=null})),G(),n=r[e],n?n.p(t,l):(n=r[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){l||(H(n),l=!0)},o(t){W(n),l=!1},d(t){r[e].d(t),t&&m(o)}}}function co(t,e,n){let o,l,c,{actions:r}=e,{note:s}=e,{highlight:i}=e,a=!1;A((()=>{c&&c.focus()}));return t.$$set=t=>{"actions"in t&&n(1,r=t.actions),"note"in t&&n(0,s=t.note),"highlight"in t&&n(2,i=t.highlight)},t.$$.update=()=>{4&t.$$.dirty&&n(6,o=""==i),1&t.$$.dirty&&n(5,l=new Date(s.date))},[s,r,i,a,c,l,o,()=>n(6,o=!1),()=>n(6,o=!1),()=>n(3,a=!1),function(t){I[t?"unshift":"push"]((()=>{c=t,n(4,c)}))},function(){s.title=this.value,n(0,s)},()=>n(3,a=!0),()=>n(6,o=!0),()=>r.delete(s),function(e){t.$$.not_equal(s.content,e)&&(s.content=e,n(0,s))}]}class ro extends ot{constructor(t){super(),nt(this,t,co,lo,c,{actions:1,note:0,highlight:2})}}function so(t,e,n){const o=t.slice();return o[14]=e[n],o}function io(t,e){let n,o,l;return o=new ro({props:{note:e[14],actions:e[3],highlight:e[0]}}),{key:t,first:null,c(){n=b(),Y(o.$$.fragment),this.first=n},m(t,e){f(t,n,e),X(o,t,e),l=!0},p(t,n){e=t;const l={};4&n&&(l.note=e[14]),1&n&&(l.highlight=e[0]),o.$set(l)},i(t){l||(H(o.$$.fragment,t),l=!0)},o(t){W(o.$$.fragment,t),l=!1},d(t){t&&m(n),tt(o,t)}}}function ao(t){let e,n,l,c,r,s,i,a,u,$,g,b,w,y,C,_,N,q,S,E,O,A,D,I=[],K=new Map,L=t[2];const z=t=>t[14].id;for(let e=0;e<L.length;e+=1){let n=so(t,L,e),o=z(n);K.set(o,I[e]=io(o,n))}return{c(){e=p("div"),n=p("button"),n.textContent="Add note",l=h(),c=p("div"),r=p("button"),r.textContent="Sort",s=h(),i=p("div"),a=p("button"),a.textContent="Newest",u=h(),$=p("button"),$.textContent="Oldest",g=h(),b=p("button"),b.textContent="A → Z",w=h(),y=p("button"),y.textContent="Z → A",_=h(),N=p("div"),q=p("input"),S=h(),E=p("div");for(let t=0;t<I.length;t+=1)I[t].c();v(n,"class","btn btn-light border mb-1 mr-1"),v(r,"class","dropdown-toggle btn btn-light border mb-1"),v(a,"class","dropdown-item"),v($,"class","dropdown-item"),v(b,"class","dropdown-item"),v(y,"class","dropdown-item"),v(i,"class","dropdown-menu"),v(i,"style",C="display: "+("sort"==t[1]?"block":"none")),v(c,"class","dropdown"),v(e,"class","d-flex"),v(q,"class","form-control"),v(q,"placeholder","filter"),v(N,"class","d-flex"),v(E,"class","row mt-2")},m(o,m){f(o,e,m),d(e,n),d(e,l),d(e,c),d(c,r),d(c,s),d(c,i),d(i,a),d(i,u),d(i,$),d(i,g),d(i,b),d(i,w),d(i,y),f(o,_,m),f(o,N,m),d(N,q),k(q,t[0]),f(o,S,m),f(o,E,m);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(E,null);O=!0,A||(D=[x(n,"click",t[4]),x(r,"blur",t[5]),x(r,"click",t[8]),x(a,"blur",t[5]),x(a,"click",t[9]),x($,"blur",t[5]),x($,"click",t[10]),x(b,"blur",t[5]),x(b,"click",t[11]),x(y,"blur",t[5]),x(y,"click",t[12]),x(q,"input",t[13])],A=!0)},p(t,[e]){(!O||2&e&&C!==(C="display: "+("sort"==t[1]?"block":"none")))&&v(i,"style",C),1&e&&q.value!==t[0]&&k(q,t[0]),13&e&&(L=t[2],F(),I=function(t,e,n,l,c,r,s,i,a,u,d,f){let m=t.length,$=r.length,p=m;const g={};for(;p--;)g[t[p].key]=p;const h=[],b=new Map,x=new Map,v=[];for(p=$;p--;){const t=f(c,r,p),o=n(t);let i=s.get(o);i?l&&v.push((()=>i.p(t,e))):(i=u(o,t),i.c()),b.set(o,h[p]=i),o in g&&x.set(o,Math.abs(p-g[o]))}const w=new Set,y=new Set;function k(t){H(t,1),t.m(i,d),s.set(t.key,t),d=t.first,$--}for(;m&&$;){const e=h[$-1],n=t[m-1],o=e.key,l=n.key;e===n?(d=e.first,m--,$--):b.has(l)?!s.has(o)||w.has(o)?k(e):y.has(l)?m--:x.get(o)>x.get(l)?(y.add(o),k(e)):(w.add(l),m--):(a(n,s),m--)}for(;m--;){const e=t[m];b.has(e.key)||a(e,s)}for(;$;)k(h[$-1]);return o(v),h}(I,e,z,1,t,L,K,E,Z,io,null,so),G())},i(t){if(!O){for(let t=0;t<L.length;t+=1)H(I[t]);O=!0}},o(t){for(let t=0;t<I.length;t+=1)W(I[t]);O=!1},d(t){t&&m(e),t&&m(_),t&&m(N),t&&m(S),t&&m(E);for(let t=0;t<I.length;t+=1)I[t].d();A=!1,o(D)}}}function uo(t,e,n){let o,{notes:l}=e;const c={delete:t=>{if(!confirm(`Delete ${t.title}?`))return;let e=l.indexOf(t);l.splice(e,1),n(7,l)}};let r="",s="";function i(t){"alpha"==t?l.sort(((t,e)=>t.title.localeCompare(e.title))):"ralpha"==t?l.sort(((t,e)=>e.title.localeCompare(t.title))):"oldest"==t?l.sort(((t,e)=>t.date>e.date)):"newest"==t&&l.sort(((t,e)=>t.date<e.date)),n(7,l)}return t.$$set=t=>{"notes"in t&&n(7,l=t.notes)},t.$$.update=()=>{129&t.$$.dirty&&n(2,o=l.filter((t=>!r||t.title.toLowerCase().includes(r.toLowerCase())||t.content.toLowerCase().includes(r.toLowerCase())))),128&t.$$.dirty&&l.forEach((t=>{t.id||(t.id=crypto.randomUUID())}))},[r,s,o,c,function(){l.splice(0,0,{id:crypto.randomUUID(),title:"New note",date:(new Date).toISOString(),content:"Enter your notes here"}),n(7,l)},function(t){t.relatedTarget?.className.includes("dropdown-item")||n(1,s="")},i,l,()=>n(1,s="sort"),()=>i("newest"),()=>i("oldest"),()=>i("alpha"),()=>i("ralpha"),function(){r=this.value,n(0,r)}]}class fo extends ot{constructor(t){super(),nt(this,t,uo,ao,c,{notes:7})}}function mo(t){let e;return{c(){e=p("link"),v(e,"rel","stylesheet"),v(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"),v(e,"integrity","sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"),v(e,"crossorigin","anonymous")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function $o(t){let e;return{c(){e=p("link"),v(e,"rel","stylesheet"),v(e,"href","https://cdn.jsdelivr.net/gh/vinorodrigues/bootstrap-dark@0.6.1/dist/bootstrap-dark.min.css")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function po(t){let e,n;return e=new Jt({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function go(t){let e,n;return e=new Ln({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ho(t){let e,n;return e=new Ie({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function bo(t){let e,n;return e=new Ot({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function xo(t){let e,n;return e=new We({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function vo(t){let e,n;return e=new Un({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function wo(t){let e,n;return e=new Yn({props:{model:t[0]}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function yo(t){let e,n;return e=new fo({props:{notes:t[0].notes}}),{c(){Y(e.$$.fragment)},m(t,o){X(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.notes=t[0].notes),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ko(t){let e,n,o,l,c,r,s,i,a,u,$,g,x,w,y,k,C,_,N,q,S,E,O;let A=("dark"==ct?$o:mo)(t);function D(e){t[1](e)}let K={};return void 0!==t[0]&&(K.model=t[0]),l=new dn({props:K}),I.push((()=>Q(l,"model",D))),i=new Gt({props:{title:"Bio",open:"open",$$slots:{default:[po]},$$scope:{ctx:t}}}),u=new Gt({props:{title:"Status",open:"open",$$slots:{default:[go]},$$scope:{ctx:t}}}),g=new Gt({props:{title:"Inventory",$$slots:{default:[ho]},$$scope:{ctx:t}}}),w=new Gt({props:{title:"Apps",$$slots:{default:[bo]},$$scope:{ctx:t}}}),k=new Gt({props:{title:"Nano",$$slots:{default:[xo]},$$scope:{ctx:t}}}),_=new Gt({props:{title:"Infestations",$$slots:{default:[vo]},$$scope:{ctx:t}}}),q=new Gt({props:{title:"Cybertech",$$slots:{default:[wo]},$$scope:{ctx:t}}}),E=new Gt({props:{title:"Notes",$$slots:{default:[yo]},$$scope:{ctx:t}}}),{c(){A.c(),e=b(),n=h(),o=p("main"),Y(l.$$.fragment),r=h(),s=p("div"),Y(i.$$.fragment),a=h(),Y(u.$$.fragment),$=h(),Y(g.$$.fragment),x=h(),Y(w.$$.fragment),y=h(),Y(k.$$.fragment),C=h(),Y(_.$$.fragment),N=h(),Y(q.$$.fragment),S=h(),Y(E.$$.fragment),v(s,"class","row m-2"),v(o,"id","app")},m(t,c){A.m(document.head,null),d(document.head,e),f(t,n,c),f(t,o,c),X(l,o,null),d(o,r),d(o,s),X(i,s,null),d(s,a),X(u,s,null),d(s,$),X(g,s,null),d(s,x),X(w,s,null),d(s,y),X(k,s,null),d(s,C),X(_,s,null),d(s,N),X(q,s,null),d(s,S),X(E,s,null),O=!0},p(t,[e]){const n={};!c&&1&e&&(c=!0,n.model=t[0],j((()=>c=!1))),l.$set(n);const o={};5&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const r={};5&e&&(r.$$scope={dirty:e,ctx:t}),u.$set(r);const s={};5&e&&(s.$$scope={dirty:e,ctx:t}),g.$set(s);const a={};5&e&&(a.$$scope={dirty:e,ctx:t}),w.$set(a);const d={};5&e&&(d.$$scope={dirty:e,ctx:t}),k.$set(d);const f={};5&e&&(f.$$scope={dirty:e,ctx:t}),_.$set(f);const m={};5&e&&(m.$$scope={dirty:e,ctx:t}),q.$set(m);const $={};5&e&&($.$$scope={dirty:e,ctx:t}),E.$set($)},i(t){O||(H(l.$$.fragment,t),H(i.$$.fragment,t),H(u.$$.fragment,t),H(g.$$.fragment,t),H(w.$$.fragment,t),H(k.$$.fragment,t),H(_.$$.fragment,t),H(q.$$.fragment,t),H(E.$$.fragment,t),O=!0)},o(t){W(l.$$.fragment,t),W(i.$$.fragment,t),W(u.$$.fragment,t),W(g.$$.fragment,t),W(w.$$.fragment,t),W(k.$$.fragment,t),W(_.$$.fragment,t),W(q.$$.fragment,t),W(E.$$.fragment,t),O=!1},d(t){A.d(t),m(e),t&&m(n),t&&m(o),tt(l),tt(i),tt(u),tt(g),tt(w),tt(k),tt(_),tt(q),tt(E)}}}function Co(t,e,n){let o=lt();return[o,function(t){o=t,n(0,o)}]}return new class extends ot{constructor(t){super(),nt(this,t,Co,ko,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
