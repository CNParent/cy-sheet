var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,n,o){if(t){const r=s(t,e,n,o);return t[0](r)}}function s(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function i(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function a(t,e,n,o,r,c){if(r){const l=s(e,n,o,c);t.p(l,r)}}function u(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function k(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}let N;function C(t){N=t}function S(){if(!N)throw new Error("Function called outside component initialization");return N}function E(t){S().$$.after_update.push(t)}const q=[],A=[],K=[],O=[],j=Promise.resolve();let I=!1;function L(t){K.push(t)}function P(t){O.push(t)}const D=new Set;let J=0;function T(){if(0!==J)return;const t=N;do{try{for(;J<q.length;){const t=q[J];J++,C(t),R(t.$$)}}catch(t){throw q.length=0,J=0,t}for(C(null),q.length=0,J=0;A.length;)A.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];D.has(e)||(D.add(e),e())}K.length=0}while(q.length);for(;O.length;)O.pop()();I=!1,D.clear(),C(t)}function R(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const U=new Set;let M;function z(){M={r:0,c:[],p:M}}function B(){M.r||o(M.c),M=M.p}function H(t,e){t&&t.i&&(U.delete(t),t.i(e))}function F(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),M.c.push((()=>{U.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function G(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Q(t){t&&t.c()}function Z(t,n,c,l){const{fragment:s,after_update:i}=t.$$;s&&s.m(n,c),l||L((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(L)}function V(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&(q.push(t),I||(I=!0,j.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,r,c,l,s,i,a,u=[-1]){const d=N;C(e);const f=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=c?c(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&W(e,t)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();r.intro&&H(e.$$.fragment),Z(e,r.target,r.anchor,r.customElement),T()}C(d)}class Y{$destroy(){V(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tt=()=>({name:"",glitches:{die:"d2",current:0},hp:{current:0,max:0},abilities:{strength:0,agility:0,presence:0,toughness:0,knowledge:0},creds:0,debt:0,className:"",nano:[],infestations:[],apps:[],armor:"-",weapons:[],equipment:[],cybertech:[],info:""}),et=new URLSearchParams(window.location.search).get("theme")??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");function nt(t){let e,n,o,r,c,s,p,b,v;const _=t[4].default,N=l(_,t,t[3],null);return{c(){e=m("div"),n=m("h4"),o=m("button"),r=g(t[0]),c=h(),s=m("span"),N&&N.c(),y(o,"class","btn btn-dark badge"),k(o,"width","2.0em"),y(n,"class","ml-1"),y(s,"class","align-self-center ml-1"),y(e,"class","row")},m(l,i){f(l,e,i),d(e,n),d(n,o),d(o,r),d(e,c),d(e,s),N&&N.m(s,null),p=!0,b||(v=x(o,"click",t[1]),b=!0)},p(t,[e]){(!p||1&e)&&w(r,t[0]),N&&N.p&&(!p||8&e)&&a(N,_,t,t[3],p?i(_,t[3],e,null):u(t[3]),null)},i(t){p||(H(N,t),p=!0)},o(t){F(N,t),p=!1},d(t){t&&$(e),N&&N.d(t),b=!1,v()}}}function ot(t,e,n){let o,{$$slots:r={},$$scope:c}=e,{score:l}=e;return t.$$set=t=>{"score"in t&&n(2,l=t.score),"$$scope"in t&&n(3,c=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&n(0,o=l>0?`+${l}`:`${l}`)},[o,function(t){n(2,l+=t.shiftKey?-1:1),l<-3&&n(2,l=3),l>3&&n(2,l=-3)},l,c,r]}class rt extends Y{constructor(t){super(),X(this,t,ot,nt,c,{score:2})}}function ct(t){let e;return{c(){e=g("Strength")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function lt(t){let e;return{c(){e=g("Agility")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function st(t){let e;return{c(){e=g("Presence")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function it(t){let e;return{c(){e=g("Toughness")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function at(t){let e;return{c(){e=g("Knowledge")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function ut(t){let e,n,o,r,c,l,s,i,a,u,d,p,m,g,b;function x(e){t[1](e)}let y={$$slots:{default:[ct]},$$scope:{ctx:t}};function w(e){t[2](e)}void 0!==t[0].abilities.strength&&(y.score=t[0].abilities.strength),e=new rt({props:y}),A.push((()=>G(e,"score",x)));let v={$$slots:{default:[lt]},$$scope:{ctx:t}};function k(e){t[3](e)}void 0!==t[0].abilities.agility&&(v.score=t[0].abilities.agility),r=new rt({props:v}),A.push((()=>G(r,"score",w)));let _={$$slots:{default:[st]},$$scope:{ctx:t}};function N(e){t[4](e)}void 0!==t[0].abilities.presence&&(_.score=t[0].abilities.presence),s=new rt({props:_}),A.push((()=>G(s,"score",k)));let C={$$slots:{default:[it]},$$scope:{ctx:t}};function S(e){t[5](e)}void 0!==t[0].abilities.toughness&&(C.score=t[0].abilities.toughness),u=new rt({props:C}),A.push((()=>G(u,"score",N)));let E={$$slots:{default:[at]},$$scope:{ctx:t}};return void 0!==t[0].abilities.knowledge&&(E.score=t[0].abilities.knowledge),m=new rt({props:E}),A.push((()=>G(m,"score",S))),{c(){Q(e.$$.fragment),o=h(),Q(r.$$.fragment),l=h(),Q(s.$$.fragment),a=h(),Q(u.$$.fragment),p=h(),Q(m.$$.fragment)},m(t,n){Z(e,t,n),f(t,o,n),Z(r,t,n),f(t,l,n),Z(s,t,n),f(t,a,n),Z(u,t,n),f(t,p,n),Z(m,t,n),b=!0},p(t,[o]){const l={};64&o&&(l.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,l.score=t[0].abilities.strength,P((()=>n=!1))),e.$set(l);const a={};64&o&&(a.$$scope={dirty:o,ctx:t}),!c&&1&o&&(c=!0,a.score=t[0].abilities.agility,P((()=>c=!1))),r.$set(a);const f={};64&o&&(f.$$scope={dirty:o,ctx:t}),!i&&1&o&&(i=!0,f.score=t[0].abilities.presence,P((()=>i=!1))),s.$set(f);const $={};64&o&&($.$$scope={dirty:o,ctx:t}),!d&&1&o&&(d=!0,$.score=t[0].abilities.toughness,P((()=>d=!1))),u.$set($);const p={};64&o&&(p.$$scope={dirty:o,ctx:t}),!g&&1&o&&(g=!0,p.score=t[0].abilities.knowledge,P((()=>g=!1))),m.$set(p)},i(t){b||(H(e.$$.fragment,t),H(r.$$.fragment,t),H(s.$$.fragment,t),H(u.$$.fragment,t),H(m.$$.fragment,t),b=!0)},o(t){F(e.$$.fragment,t),F(r.$$.fragment,t),F(s.$$.fragment,t),F(u.$$.fragment,t),F(m.$$.fragment,t),b=!1},d(t){V(e,t),t&&$(o),V(r,t),t&&$(l),V(s,t),t&&$(a),V(u,t),t&&$(p),V(m,t)}}}function dt(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(e){t.$$.not_equal(o.abilities.strength,e)&&(o.abilities.strength=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.agility,e)&&(o.abilities.agility=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.presence,e)&&(o.abilities.presence=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.toughness,e)&&(o.abilities.toughness=e,n(0,o))},function(e){t.$$.not_equal(o.abilities.knowledge,e)&&(o.abilities.knowledge=e,n(0,o))}]}class ft extends Y{constructor(t){super(),X(this,t,dt,ut,c,{model:0})}}function $t(t,e,n){const o=t.slice();return o[15]=e[n],o[17]=n,o}function pt(t){let e,n,o,r,c,s;const d=t[10].default,p=l(d,t,t[9],null);function g(t,e){return 0==t[1].length?ht:gt}let b=g(t),w=b(t);return{c(){e=m("span"),p&&p.c(),n=h(),o=m("button"),w.c(),y(e,"class","py-2 font-weight-bold"),y(o,"class","btn btn-light text-left align-top wrap w-100"),k(o,"min-height","2.5em")},m(l,i){f(l,e,i),p&&p.m(e,null),f(l,n,i),f(l,o,i),w.m(o,null),r=!0,c||(s=x(o,"click",t[14]),c=!0)},p(t,e){p&&p.p&&(!r||512&e)&&a(p,d,t,t[9],r?i(d,t[9],e,null):u(t[9]),null),b===(b=g(t))&&w?w.p(t,e):(w.d(1),w=b(t),w&&(w.c(),w.m(o,null)))},i(t){r||(H(p,t),r=!0)},o(t){F(p,t),r=!1},d(t){t&&$(e),p&&p.d(t),t&&$(n),t&&$(o),w.d(),c=!1,s()}}}function mt(t){let e,n,r,c,s,d;const p=t[10].default,g=l(p,t,t[9],null);return{c(){e=m("span"),g&&g.c(),n=h(),r=m("textarea"),y(e,"class","py-2 font-weight-bold"),y(r,"class","flex-grow-1 form-control")},m(o,l){f(o,e,l),g&&g.m(e,null),f(o,n,l),f(o,r,l),t[11](r),v(r,t[0]),c=!0,s||(d=[x(r,"input",t[12]),x(r,"blur",t[13]),x(r,"focus",t[6]),x(r,"keyup",t[6])],s=!0)},p(t,e){g&&g.p&&(!c||512&e)&&a(g,p,t,t[9],c?i(p,t[9],e,null):u(t[9]),null),1&e&&v(r,t[0])},i(t){c||(H(g,t),c=!0)},o(t){F(g,t),c=!1},d(c){c&&$(e),g&&g.d(c),c&&$(n),c&&$(r),t[11](null),s=!1,o(d)}}}function gt(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=yt($t(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);f(t,e,n)},p(t,r){if(51&r){let c;for(n=t[1],c=0;c<n.length;c+=1){const l=$t(t,n,c);o[c]?o[c].p(l,r):(o[c]=yt(l),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){p(o,t),t&&$(e)}}}function ht(t){let e;return{c(){e=g(t[0])},m(t,n){f(t,e,n)},p(t,n){1&n&&w(e,t[0])},d(t){t&&$(e)}}}function bt(t){let e;return{c(){e=g(t[4])},m(t,n){f(t,e,n)},p(t,n){16&n&&w(e,t[4])},d(t){t&&$(e)}}}function xt(t){let e,n=t[0].substring(t[15].index+t[15][0].length,t[1][t[17]+1].index)+"";return{c(){e=g(n)},m(t,n){f(t,e,n)},p(t,o){3&o&&n!==(n=t[0].substring(t[15].index+t[15][0].length,t[1][t[17]+1].index)+"")&&w(e,n)},d(t){t&&$(e)}}}function yt(t){let e,n,o,r=t[15][0]+"",c=0==t[17]&&function(t){let e;return{c(){e=g(t[5])},m(t,n){f(t,e,n)},p(t,n){32&n&&w(e,t[5])},d(t){t&&$(e)}}}(t);function l(t,e){return t[17]<t[1].length-1?xt:bt}let s=l(t),i=s(t);return{c(){c&&c.c(),e=m("span"),n=g(r),i.c(),o=b(),y(e,"class","bg-info")},m(t,r){c&&c.m(t,r),f(t,e,r),d(e,n),i.m(t,r),f(t,o,r)},p(t,e){0==t[17]&&c.p(t,e),2&e&&r!==(r=t[15][0]+"")&&w(n,r),s===(s=l(t))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),i.m(o.parentNode,o)))},d(t){c&&c.d(t),t&&$(e),i.d(t),t&&$(o)}}}function wt(t){let e,n,o,r;const c=[mt,pt],l=[];function s(t,e){return t[2]?0:1}return e=s(t),n=l[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){l[e].m(t,n),f(t,o,n),r=!0},p(t,[r]){let i=e;e=s(t),e===i?l[e].p(t,r):(z(),F(l[i],1,1,(()=>{l[i]=null})),B(),n=l[e],n?n.p(t,r):(n=l[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){r||(H(n),r=!0)},o(t){F(n),r=!1},d(t){l[e].d(t),t&&$(o)}}}function vt(t,e,n){let o,r,c,l,s,{$$slots:i={},$$scope:a}=e,{content:u=""}=e,{highlight:d=""}=e,f=!1;E((()=>{f&&s.focus()}));return t.$$set=t=>{"content"in t&&n(0,u=t.content),"highlight"in t&&n(7,d=t.highlight),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&n(8,o=new RegExp(d,"gi")),257&t.$$.dirty&&n(1,r=[...u.matchAll(o)]),3&t.$$.dirty&&n(5,c=0==r.length?"":u.substring(0,r[0].index)),3&t.$$.dirty&&n(4,l=0==r.length?"":u.substring(r[r.length-1].index+r[r.length-1][0].length))},[u,r,f,s,l,c,function(){s&&n(3,s.style.height=`${s.scrollHeight+2}px`,s)},d,o,a,i,function(t){A[t?"unshift":"push"]((()=>{s=t,n(3,s)}))},function(){u=this.value,n(0,u)},()=>n(2,f=!1),()=>n(2,f=!0)]}class kt extends Y{constructor(t){super(),X(this,t,vt,wt,c,{content:0,highlight:7})}}function _t(t){let e,n,o,r,c,s,p,b;const v=t[4].default,_=l(v,t,t[3],null);return{c(){e=m("div"),n=m("span"),_&&_.c(),o=h(),r=m("button"),c=g(t[0]),y(n,"class","align-self-center text-right border-right pr-1 py-2 font-weight-bold"),k(n,"width","5.5em"),y(r,"class","flex-grow-1 btn btn-light text-left"),y(e,"class","d-flex mb-1 border-bottom")},m(l,i){f(l,e,i),d(e,n),_&&_.m(n,null),d(e,o),d(e,r),d(r,c),s=!0,p||(b=x(r,"click",t[8]),p=!0)},p(t,e){_&&_.p&&(!s||8&e)&&a(_,v,t,t[3],s?i(v,t[3],e,null):u(t[3]),null),(!s||1&e)&&w(c,t[0])},i(t){s||(H(_,t),s=!0)},o(t){F(_,t),s=!1},d(t){t&&$(e),_&&_.d(t),p=!1,b()}}}function Nt(t){let e,n,r,c,s,p,g;const b=t[4].default,w=l(b,t,t[3],null);return{c(){e=m("div"),n=m("span"),w&&w.c(),r=h(),c=m("input"),y(n,"class","align-self-center text-right mr-1 py-2 font-weight-bold"),k(n,"width","5.5em"),k(n,"height","2.5em"),y(c,"class","flex-grow-1 form-control"),y(e,"class","d-flex mb-1 border-bottom")},m(o,l){f(o,e,l),d(e,n),w&&w.m(n,null),d(e,r),d(e,c),t[5](c),v(c,t[0]),s=!0,p||(g=[x(c,"input",t[6]),x(c,"blur",t[7])],p=!0)},p(t,e){w&&w.p&&(!s||8&e)&&a(w,b,t,t[3],s?i(b,t[3],e,null):u(t[3]),null),1&e&&c.value!==t[0]&&v(c,t[0])},i(t){s||(H(w,t),s=!0)},o(t){F(w,t),s=!1},d(n){n&&$(e),w&&w.d(n),t[5](null),p=!1,o(g)}}}function Ct(t){let e,n,o,r;const c=[Nt,_t],l=[];function s(t,e){return t[1]?0:1}return e=s(t),n=l[e]=c[e](t),{c(){n.c(),o=b()},m(t,n){l[e].m(t,n),f(t,o,n),r=!0},p(t,[r]){let i=e;e=s(t),e===i?l[e].p(t,r):(z(),F(l[i],1,1,(()=>{l[i]=null})),B(),n=l[e],n?n.p(t,r):(n=l[e]=c[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){r||(H(n),r=!0)},o(t){F(n),r=!1},d(t){l[e].d(t),t&&$(o)}}}function St(t,e,n){let o,{$$slots:r={},$$scope:c}=e,{content:l=""}=e,s=!1;E((()=>{s&&o.focus()}));return t.$$set=t=>{"content"in t&&n(0,l=t.content),"$$scope"in t&&n(3,c=t.$$scope)},[l,s,o,c,r,function(t){A[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(){l=this.value,n(0,l)},()=>n(1,s=!1),()=>n(1,s=!0)]}class Et extends Y{constructor(t){super(),X(this,t,St,Ct,c,{content:0})}}function qt(t){let e;return{c(){e=g("Name")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function At(t){let e;return{c(){e=g("Class")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function Kt(t){let e;return{c(){e=g("Info")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function Ot(t){let e,n,o,r,c,l,s,i,a,u,d;function p(e){t[1](e)}let g={$$slots:{default:[qt]},$$scope:{ctx:t}};function b(e){t[2](e)}void 0!==t[0].name&&(g.content=t[0].name),e=new Et({props:g}),A.push((()=>G(e,"content",p)));let x={$$slots:{default:[At]},$$scope:{ctx:t}};function y(e){t[3](e)}void 0!==t[0].className&&(x.content=t[0].className),r=new Et({props:x}),A.push((()=>G(r,"content",b)));let w={$$slots:{default:[Kt]},$$scope:{ctx:t}};return void 0!==t[0].info&&(w.content=t[0].info),a=new kt({props:w}),A.push((()=>G(a,"content",y))),{c(){Q(e.$$.fragment),o=h(),Q(r.$$.fragment),l=h(),s=m("hr"),i=h(),Q(a.$$.fragment)},m(t,n){Z(e,t,n),f(t,o,n),Z(r,t,n),f(t,l,n),f(t,s,n),f(t,i,n),Z(a,t,n),d=!0},p(t,[o]){const l={};16&o&&(l.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,l.content=t[0].name,P((()=>n=!1))),e.$set(l);const s={};16&o&&(s.$$scope={dirty:o,ctx:t}),!c&&1&o&&(c=!0,s.content=t[0].className,P((()=>c=!1))),r.$set(s);const i={};16&o&&(i.$$scope={dirty:o,ctx:t}),!u&&1&o&&(u=!0,i.content=t[0].info,P((()=>u=!1))),a.$set(i)},i(t){d||(H(e.$$.fragment,t),H(r.$$.fragment,t),H(a.$$.fragment,t),d=!0)},o(t){F(e.$$.fragment,t),F(r.$$.fragment,t),F(a.$$.fragment,t),d=!1},d(t){V(e,t),t&&$(o),V(r,t),t&&$(l),t&&$(s),t&&$(i),V(a,t)}}}function jt(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,function(e){t.$$.not_equal(o.name,e)&&(o.name=e,n(0,o))},function(e){t.$$.not_equal(o.className,e)&&(o.className=e,n(0,o))},function(e){t.$$.not_equal(o.info,e)&&(o.info=e,n(0,o))}]}class It extends Y{constructor(t){super(),X(this,t,jt,Ot,c,{model:0})}}function Lt(t){let e,n,o,r;const c=t[3].default,s=l(c,t,t[2],null);return{c(){e=m("div"),n=m("div"),o=m("div"),s&&s.c(),y(o,"class","card-body"),y(n,"class","card"),y(e,"class","container-fluid m-0 p-0")},m(t,c){f(t,e,c),d(e,n),d(n,o),s&&s.m(o,null),r=!0},p(t,e){s&&s.p&&(!r||4&e)&&a(s,c,t,t[2],r?i(c,t[2],e,null):u(t[2]),null)},i(t){r||(H(s,t),r=!0)},o(t){F(s,t),r=!1},d(t){t&&$(e),s&&s.d(t)}}}function Pt(t){let e,n,o,r,c,l,s,i=t[0]&&Lt(t);return{c(){e=m("div"),n=m("button"),o=g(t[1]),r=h(),i&&i.c(),y(n,"class","btn btn-dark w-100 text-left align-top"),y(e,"class","col-lg-6 col-12 p-1")},m(a,u){f(a,e,u),d(e,n),d(n,o),d(e,r),i&&i.m(e,null),c=!0,l||(s=x(n,"click",t[4]),l=!0)},p(t,[n]){(!c||2&n)&&w(o,t[1]),t[0]?i?(i.p(t,n),1&n&&H(i,1)):(i=Lt(t),i.c(),H(i,1),i.m(e,null)):i&&(z(),F(i,1,1,(()=>{i=null})),B())},i(t){c||(H(i),c=!0)},o(t){F(i),c=!1},d(t){t&&$(e),i&&i.d(),l=!1,s()}}}function Dt(t,e,n){let{$$slots:o={},$$scope:r}=e,{title:c}=e,{open:l=!1}=e;return t.$$set=t=>{"title"in t&&n(1,c=t.title),"open"in t&&n(0,l=t.open),"$$scope"in t&&n(2,r=t.$$scope)},[l,c,r,o,()=>n(0,l=!l)]}class Jt extends Y{constructor(t){super(),X(this,t,Dt,Pt,c,{title:1,open:0})}}function Tt(e){let n;return{c(){n=m("div")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function Rt(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o]}class Ut extends Y{constructor(t){super(),X(this,t,Rt,Tt,c,{model:0})}}function Mt(e){let n;return{c(){n=m("div")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function zt(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o]}class Bt extends Y{constructor(t){super(),X(this,t,zt,Mt,c,{model:0})}}const Ht=(t,e)=>{for(let n in e)t[n]||(t[n]=e[n]),"object"==typeof t[n]&&Ht(t[n],e[n])};var Ft=t=>{if(confirm(`Delete ${t.name}?`))return localStorage.removeItem(t.name),{success:`${t.name} deleted from character storage`}},Gt=()=>{if(confirm("Delete all saved characters?"))return localStorage.clear(),{success:"All characters deleted from character storage"}},Qt=t=>{let e=URL.createObjectURL(new Blob([JSON.stringify(t)])),n=document.createElement("a");n.href=e,n.download=`${t.name}.cybrg`,n.click()},Zt=t=>{let e=document.createElement("input");e.type="file",e.accept=".cybrg",e.onchange=e=>{e.target.files[0].text().then((e=>{let n=JSON.parse(e).name;localStorage.setItem(n,e),t(`${n} added to character storage`)}))},e.click()},Vt=(t,e)=>{let n=e;if(n==t.name)return{model:t};let o="";return t.name&&confirm(`Save ${t.name} before changing characters?`)&&(localStorage.setItem(t.name,JSON.stringify(t)),o+=`${t.name} saved, `),t=JSON.parse(localStorage.getItem(n)),Ht(t,tt()),{model:t,alert:{success:`${o}${t.name} opened`}}},Wt=()=>{let t=[...new Array(window.localStorage.length)].map(((t,e)=>window.localStorage.key(e)));return t.sort(((t,e)=>t.localeCompare(e))),t},Xt=t=>t.name?(localStorage.setItem(t.name,JSON.stringify(t)),{success:`${t.name} saved`}):{error:"Cannot save an unnamed character"};function Yt(t,e,n){const o=t.slice();return o[27]=e[n],o}function te(t){let e,n,r,c,l=t[27]+"";function s(){return t[16](t[27])}return{c(){e=m("button"),n=g(l),y(e,"class","dropdown-item")},m(o,l){f(o,e,l),d(e,n),r||(c=[x(e,"blur",t[6]),x(e,"click",s)],r=!0)},p(e,o){t=e,4&o&&l!==(l=t[27]+"")&&w(n,l)},d(t){t&&$(e),r=!1,o(c)}}}function ee(t){let e,n,r,c,l,s=t[3].error+"";return{c(){e=m("button"),n=m("strong"),r=g(s),y(e,"class","alert alert-static alert-danger btn text-center w-100")},m(o,s){f(o,e,s),d(e,n),d(n,r),t[22](e),c||(l=[x(e,"blur",t[23]),x(e,"click",t[24])],c=!0)},p(t,e){8&e&&s!==(s=t[3].error+"")&&w(r,s)},d(n){n&&$(e),t[22](null),c=!1,o(l)}}}function ne(t){let e,n,r,c,l,s=t[3].success+"";return{c(){e=m("button"),n=m("strong"),r=g(s),y(e,"class","alert alert-static alert-success btn text-center w-100")},m(o,s){f(o,e,s),d(e,n),d(n,r),t[19](e),c||(l=[x(e,"blur",t[20]),x(e,"click",t[21])],c=!0)},p(t,e){8&e&&s!==(s=t[3].success+"")&&w(r,s)},d(n){n&&$(e),t[19](null),c=!1,o(l)}}}function oe(e){let n,r,c,l,s,i,a,u,g,w,v,N,C,S,E,q,A,K,O,j,I,L,P,D,J,T,R,U,M,z,B,H,F=e[2],G=[];for(let t=0;t<F.length;t+=1)G[t]=te(Yt(e,F,t));function Q(t,e){return t[3]?.success?ne:t[3]?.error?ee:void 0}let Z=Q(e),V=Z&&Z(e);return{c(){n=m("nav"),r=m("button"),r.innerHTML='<span class="navbar-toggler-icon"></span>',c=h(),l=m("div"),s=m("ul"),i=m("li"),a=m("a"),a.textContent="Characters",u=h(),g=m("div");for(let t=0;t<G.length;t+=1)G[t].c();v=h(),N=m("div"),C=m("div"),S=m("button"),S.textContent="Options",E=h(),q=m("div"),A=m("button"),A.textContent="Save",K=h(),O=m("button"),O.textContent="Export",j=h(),I=m("button"),I.textContent="Import",L=h(),P=m("button"),P.textContent="Delete",D=h(),J=m("button"),J.textContent="Delete all",T=h(),R=m("button"),R.textContent=("dark"==et?"Light":"Dark")+" mode",M=h(),V&&V.c(),z=b(),y(r,"class","navbar-toggler"),y(r,"type","button"),y(a,"href","#"),y(a,"class","nav-link dropdown-toggle"),_(a,"disabled",!e[2].length),y(g,"class","dropdown-menu"),y(g,"style",w="display: "+("characters"==e[1]?"block":"none")),y(i,"class","nav-item dropdown"),y(s,"class","navbar-nav mr-auto"),y(S,"href","#"),y(S,"class","dropdown-toggle btn btn-light border border-dark"),y(A,"class","dropdown-item"),y(O,"class","dropdown-item"),y(I,"class","dropdown-item"),y(P,"class","dropdown-item"),y(J,"class","dropdown-item"),y(R,"class","dropdown-item"),y(q,"class","dropdown-menu"),y(q,"style",U="display: "+("options"==e[1]?"block":"none")),y(C,"class","nav-item dropdown"),y(N,"class","navbar-nav"),y(l,"class","collapse navbar-collapse"),k(l,"display",e[0]),y(n,"class","navbar navbar-expand-md navbar-light bg-light")},m(t,o){f(t,n,o),d(n,r),d(n,c),d(n,l),d(l,s),d(s,i),d(i,a),d(i,u),d(i,g);for(let t=0;t<G.length;t+=1)G[t].m(g,null);d(l,v),d(l,N),d(N,C),d(C,S),d(C,E),d(C,q),d(q,A),d(q,K),d(q,O),d(q,j),d(q,I),d(q,L),d(q,P),d(q,D),d(q,J),d(q,T),d(q,R),f(t,M,o),V&&V.m(t,o),f(t,z,o),B||(H=[x(r,"click",e[12]),x(a,"blur",e[6]),x(a,"click",e[15]),x(S,"blur",e[6]),x(S,"click",e[17]),x(A,"click",e[10]),x(A,"blur",e[6]),x(O,"click",e[9]),x(O,"blur",e[6]),x(I,"click",e[13]),x(I,"blur",e[6]),x(P,"click",e[7]),x(P,"blur",e[6]),x(J,"click",e[8]),x(J,"blur",e[6]),x(R,"click",e[18])],B=!0)},p(t,[e]){if(4&e&&_(a,"disabled",!t[2].length),100&e){let n;for(F=t[2],n=0;n<F.length;n+=1){const o=Yt(t,F,n);G[n]?G[n].p(o,e):(G[n]=te(o),G[n].c(),G[n].m(g,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=F.length}2&e&&w!==(w="display: "+("characters"==t[1]?"block":"none"))&&y(g,"style",w),2&e&&U!==(U="display: "+("options"==t[1]?"block":"none"))&&y(q,"style",U),1&e&&k(l,"display",t[0]),Z===(Z=Q(t))&&V?V.p(t,e):(V&&V.d(1),V=Z&&Z(t),V&&(V.c(),V.m(z.parentNode,z)))},i:t,o:t,d(t){t&&$(n),p(G,t),t&&$(M),V&&V.d(t),t&&$(z),B=!1,o(H)}}}function re(t,e,n){let o,r,{model:c=tt()}=e,l="none",s="",i=[];function a(t){let e=Vt(c,t);n(14,c=e.model),n(3,o=e.alert),f()}function u(){n(2,i=Wt())}function d(t){n(1,s=t)}function f(){n(0,l="none"==l?"block":"none")}u();let $=window.setInterval((()=>{console.log(`Autosave (${c.name})`),null!=i.find((t=>t==c.name))&&Xt(c)}),1e4);var p;E((()=>{r&&r.focus()})),p=()=>{clearInterval($)},S().$$.on_destroy.push(p);return t.$$set=t=>{"model"in t&&n(14,c=t.model)},[l,s,i,o,r,a,function(t){t.relatedTarget?.className.includes("dropdown-item")||n(1,s="")},function(){n(3,o=Ft(c)),u(),f()},function(){n(3,o=Gt()),u(),f()},function(){Qt(c),f()},function(){n(3,o=Xt(c)),n(2,i=Wt()),f()},d,f,function(){Zt((t=>{n(3,o={success:t}),n(2,i=Wt())})),f()},c,()=>d("characters"),t=>a(t),()=>d("options"),()=>{return t="dark"==et?"light":"dark",void(window.location.search=`theme=${t}`);var t},function(t){A[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},()=>n(3,o=null),()=>n(3,o=null),function(t){A[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},()=>n(3,o=null),()=>n(3,o=null)]}class ce extends Y{constructor(t){super(),X(this,t,re,oe,c,{model:14})}}function le(e){let n,r,c,l,s,i,a,u,p,b,v,k,_,N,C,S,E,q,A,K,O,j,I=e[0].current+"",L=e[0].max+"";return{c(){n=m("div"),r=m("h3"),c=m("button"),l=g(I),s=h(),i=m("span"),i.textContent="/",a=h(),u=m("h3"),p=m("button"),b=g(L),v=h(),k=m("span"),k.textContent="Hit Points",_=h(),N=m("button"),N.textContent="+",C=h(),S=m("button"),S.textContent="-",E=h(),q=m("button"),q.textContent="+max",A=h(),K=m("button"),K.textContent="-max",y(c,"class","btn-dark badge"),y(i,"class","ml-2 mr-2 align-self-center"),y(p,"class","btn-dark badge"),y(k,"class","ml-2 align-self-center"),y(N,"class","ml-auto btn btn-dark align-self-center"),y(S,"class","btn btn-dark align-self-center"),y(q,"class","btn btn-dark align-self-center"),y(K,"class","btn btn-dark align-self-center"),y(n,"class","d-flex")},m(t,o){f(t,n,o),d(n,r),d(r,c),d(c,l),d(n,s),d(n,i),d(n,a),d(n,u),d(u,p),d(p,b),d(n,v),d(n,k),d(n,_),d(n,N),d(n,C),d(n,S),d(n,E),d(n,q),d(n,A),d(n,K),O||(j=[x(c,"click",e[1]),x(p,"click",e[2]),x(N,"click",e[3]),x(S,"click",e[4]),x(q,"click",e[5]),x(K,"click",e[6])],O=!0)},p(t,[e]){1&e&&I!==(I=t[0].current+"")&&w(l,I),1&e&&L!==(L=t[0].max+"")&&w(b,L)},i:t,o:t,d(t){t&&$(n),O=!1,o(j)}}}function se(t,e,n){let{hp:o}=e;function r(t){n(0,o.current+=t.shiftKey?1:-1,o)}function c(t){n(0,o.max+=t.shiftKey?-1:1,o)}return t.$$set=t=>{"hp"in t&&n(0,o=t.hp)},[o,r,c,()=>r({shiftKey:!0}),()=>r({shiftKey:!1}),()=>c({shiftKey:!0}),()=>c({shiftKey:!0})]}class ie extends Y{constructor(t){super(),X(this,t,se,le,c,{hp:0})}}function ae(t){let e,n,o,r,c,l;return e=new ie({props:{hp:t[0].hp}}),c=new ft({props:{model:t[0]}}),{c(){Q(e.$$.fragment),n=h(),o=m("hr"),r=h(),Q(c.$$.fragment)},m(t,s){Z(e,t,s),f(t,n,s),f(t,o,s),f(t,r,s),Z(c,t,s),l=!0},p(t,[n]){const o={};1&n&&(o.hp=t[0].hp),e.$set(o);const r={};1&n&&(r.model=t[0]),c.$set(r)},i(t){l||(H(e.$$.fragment,t),H(c.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),F(c.$$.fragment,t),l=!1},d(t){V(e,t),t&&$(n),t&&$(o),t&&$(r),V(c,t)}}}function ue(t,e,n){let{model:o}=e;return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o]}class de extends Y{constructor(t){super(),X(this,t,ue,ae,c,{model:0})}}function fe(t){let e;return{c(){e=m("link"),y(e,"rel","stylesheet"),y(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"),y(e,"integrity","sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"),y(e,"crossorigin","anonymous")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function $e(t){let e;return{c(){e=m("link"),y(e,"rel","stylesheet"),y(e,"href","https://cdn.jsdelivr.net/gh/vinorodrigues/bootstrap-dark@0.6.1/dist/bootstrap-dark.min.css")},m(t,n){f(t,e,n)},d(t){t&&$(e)}}}function pe(t){let e,n;return e=new It({props:{model:t[0]}}),{c(){Q(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function me(t){let e,n;return e=new de({props:{model:t[0]}}),{c(){Q(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ge(t){let e,n;return e=new Ut({props:{model:t[0]}}),{c(){Q(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function he(t){let e,n;return e=new Bt({props:{model:t[0]}}),{c(){Q(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.model=t[0]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function be(t){let e,n,o,r,c,l,s,i,a,u,p,g,x,w,v;let k=("dark"==et?$e:fe)(t);function _(e){t[1](e)}let N={};return void 0!==t[0]&&(N.model=t[0]),r=new ce({props:N}),A.push((()=>G(r,"model",_))),i=new Jt({props:{title:"Bio",open:"open",$$slots:{default:[pe]},$$scope:{ctx:t}}}),u=new Jt({props:{title:"Status",open:"open",$$slots:{default:[me]},$$scope:{ctx:t}}}),g=new Jt({props:{title:"Equipment",$$slots:{default:[ge]},$$scope:{ctx:t}}}),w=new Jt({props:{title:"Nano/Apps",$$slots:{default:[he]},$$scope:{ctx:t}}}),{c(){k.c(),e=b(),n=h(),o=m("main"),Q(r.$$.fragment),l=h(),s=m("div"),Q(i.$$.fragment),a=h(),Q(u.$$.fragment),p=h(),Q(g.$$.fragment),x=h(),Q(w.$$.fragment),y(s,"class","row m-2"),y(o,"id","app")},m(t,c){k.m(document.head,null),d(document.head,e),f(t,n,c),f(t,o,c),Z(r,o,null),d(o,l),d(o,s),Z(i,s,null),d(s,a),Z(u,s,null),d(s,p),Z(g,s,null),d(s,x),Z(w,s,null),v=!0},p(t,[e]){const n={};!c&&1&e&&(c=!0,n.model=t[0],P((()=>c=!1))),r.$set(n);const o={};5&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),u.$set(l);const s={};5&e&&(s.$$scope={dirty:e,ctx:t}),g.$set(s);const a={};5&e&&(a.$$scope={dirty:e,ctx:t}),w.$set(a)},i(t){v||(H(r.$$.fragment,t),H(i.$$.fragment,t),H(u.$$.fragment,t),H(g.$$.fragment,t),H(w.$$.fragment,t),v=!0)},o(t){F(r.$$.fragment,t),F(i.$$.fragment,t),F(u.$$.fragment,t),F(g.$$.fragment,t),F(w.$$.fragment,t),v=!1},d(t){k.d(t),$(e),t&&$(n),t&&$(o),V(r),V(i),V(u),V(g),V(w)}}}function xe(t,e,n){let o=tt();return[o,function(t){o=t,n(0,o)}]}return new class extends Y{constructor(t){super(),X(this,t,xe,be,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
